
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Advanced setup &#8212; MNE 1.12.0.dev25+ga365496bc documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=4c2284e1" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=902dae61"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=fd10adb8"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-5TBCPCRB6X"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-5TBCPCRB6X');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'install/advanced';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://mne.tools/dev/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script defer="defer" src="../_static/js/custom-icons.js?v=8bbd8100"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Testing your installation" href="check_installation.html" />
    <link rel="prev" title="Install via pip or conda" href="manual_install.html" />
    <link rel="canonical" href="https://mne.tools/stable/install/advanced.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.12" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/mne_logo_small.svg" class="logo__image only-light" alt="MNE 1.12.0.dev25+ga365496bc documentation - Home"/>
    <img src="../_static/mne_logo_small.svg" class="logo__image only-dark pst-js-only" alt="MNE 1.12.0.dev25+ga365496bc documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../documentation/index.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/python_reference.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../help/index.html">
    Get Help
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="External Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/rKfvxTuATa" title="Discord (office hours)" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord (office hours)</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@mne" title="Mastodon" class="nav-link pst-navbar-icon" rel="me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://mne.discourse.group/" title="Q&A Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Q&A Forum</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/mne-tools/mne-python" title="Code Repository" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Code Repository</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/sponsors/mne-tools" title="Sponsor us on GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-regular fa-heart fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Sponsor us on GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://opencollective.com/mne-python" title="Donate via OpenCollective" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-opencollective fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Donate via OpenCollective</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../documentation/index.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/python_reference.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../help/index.html">
    Get Help
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="External Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/rKfvxTuATa" title="Discord (office hours)" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord (office hours)</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@mne" title="Mastodon" class="nav-link pst-navbar-icon" rel="me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://mne.discourse.group/" title="Q&A Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Q&A Forum</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/mne-tools/mne-python" title="Code Repository" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Code Repository</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/sponsors/mne-tools" title="Sponsor us on GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-regular fa-heart fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Sponsor us on GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://opencollective.com/mne-python" title="Donate via OpenCollective" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-opencollective fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Donate via OpenCollective</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installers.html">MNE-Python installers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ides.html">IDE integration (VSCode, Spyder, etc.)</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_install.html">Install via <code class="code docutils literal notranslate"><span class="pre">pip</span></code> or <code class="code docutils literal notranslate"><span class="pre">conda</span></code></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Advanced setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="check_installation.html">Testing your installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="updating.html">Updating MNE-Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="freesurfer.html">Installing FreeSurfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mne_tools_suite.html">Overview of the MNE tools suite</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none"></div>
              
              
<div>
  
  <section id="advanced-setup">
<span id="id3"></span><h1>Advanced setup<a class="headerlink" href="#advanced-setup" title="Link to this heading">#</a></h1>
<section id="working-with-jupyter-notebooks-and-jupyterlab">
<h2>Working with Jupyter Notebooks and JupyterLab<a class="headerlink" href="#working-with-jupyter-notebooks-and-jupyterlab" title="Link to this heading">#</a></h2>
<p>If you like using Jupyter notebooks, you should also update the “base”
conda environment to include the <code class="docutils literal notranslate"><span class="pre">nb_conda_kernels</span></code> package; this will
make it easier to use MNE-Python in Jupyter Notebooks launched from the
Anaconda GUI:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>--name<span class="o">=</span>base<span class="w"> </span>nb_conda_kernels
</pre></div>
</div>
<p>When using MNE-Python within IPython or a Jupyter notebook, we strongly
recommend using the Qt matplotlib backend for fast and correct rendering. On
Linux, for example, Qt is the only matplotlib backend for which 3D rendering
will work correctly. On macOS, certain matplotlib functions might not work as
expected on backends other than Qt. Enabling Qt can be accomplished when
starting IPython from a terminal:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ipython<span class="w"> </span>--matplotlib<span class="o">=</span>qt
</pre></div>
</div>
<p>or in a Jupyter Notebook, you can use the “magic” command:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">%</span><span class="k">matplotlib</span> qt
</pre></div>
</div>
<p>This will create separate pop-up windows for each figure, and has the advantage
that the 3D plots will retain rich interactivity (so, for example, you can
click-and-drag to rotate cortical surface activation maps).</p>
<p>If you are creating a static notebook or simply prefer Jupyter’s inline plot
display, MNE-Python will work with the standard “inline” magic:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
<p>but some functionality will be lost. For example, PyVista scenes will still
pop-up a separate window, but only one window at a time is possible, and
interactivity within the scene is limited in non-blocking plot calls.</p>
<div class="note admonition">
<p class="admonition-title"><i class="fa-brands fa-windows"></i> Windows</p>
<p>If you are using MNE-Python on Windows through IPython or Jupyter, you might
also have to use the IPython magic command <code class="docutils literal notranslate"><span class="pre">%gui</span> <span class="pre">qt</span></code> (see <a class="reference external" href="https://github.com/ipython/ipython/issues/10384">here</a>). For example:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">%</span><span class="k">gui</span> qt
</pre></div>
</div>
</div>
<p>If you installed the <code class="docutils literal notranslate"><span class="pre">nb_conda_kernels</span></code> package into your <code class="docutils literal notranslate"><span class="pre">base</span></code>
environment (as recommended), you should be able to launch <code class="docutils literal notranslate"><span class="pre">mne</span></code>-capable
notebooks from within the Anaconda Navigator GUI without having to explicitly
switch to the <code class="docutils literal notranslate"><span class="pre">mne</span></code> environment first; look for <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">[conda</span> <span class="pre">env:mne]</span></code>
when choosing which notebook kernel to use. Otherwise, be sure to activate the
<code class="docutils literal notranslate"><span class="pre">mne</span></code> environment before launching the notebook.</p>
<p>If you use another Python setup and you encounter some difficulties please
report them on the <a class="reference external" href="https://mne.discourse.group">MNE Forum</a> or on the <a class="reference external" href="https://github.com/mne-tools/mne-python/issues/">GitHub issues page</a> to get
assistance.</p>
<p>It is also possible to interact with the 3D plots without installing Qt by using
the notebook 3d backend:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span><span class="w"> </span><span class="nn">mne</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">mne</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">set_3d_backend</span><span class="p">(</span><span class="s2">&quot;notebook&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The notebook 3d backend requires PyVista to be installed along with other packages,
please follow <a class="reference internal" href="manual_install.html#standard-instructions"><span class="std std-ref">Install via pip or conda</span></a>.</p>
</section>
<section id="installing-to-a-headless-linux-server">
<h2>Installing to a headless Linux server<a class="headerlink" href="#installing-to-a-headless-linux-server" title="Link to this heading">#</a></h2>
<p>First, follow the standard installation instructions. Next, you can choose
to install the <code class="docutils literal notranslate"><span class="pre">osmesa</span></code> (off-screen MESA) VTK variant, which avoids the need
to use Xvfb to start a virtual display (and have a sufficiently updated
MESA to render properly):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="s2">&quot;vtk&gt;=9.2=*osmesa*&quot;</span><span class="w"> </span><span class="s2">&quot;mesalib=21.2.5&quot;</span>
</pre></div>
</div>
</section>
<section id="using-the-development-version">
<h2>Using the development version<a class="headerlink" href="#using-the-development-version" title="Link to this heading">#</a></h2>
<p>See <a class="reference internal" href="updating.html#installing-main"><span class="std std-ref">Upgrading to the development version</span></a> for how to do a one-time update to the latest
development version of MNE-Python. If you plan to contribute to MNE-Python, or
just prefer to use git rather than pip to make frequent updates, there are
instructions for installing from a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> in the <a class="reference internal" href="../development/contributing.html#contributing"><span class="std std-ref">Contributing guide</span></a>.</p>
</section>
<section id="choosing-the-qt-framework">
<h2>Choosing the Qt framework<a class="headerlink" href="#choosing-the-qt-framework" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code> version of MNE-Python ships with PyQt5. If you would like to
use a different binding, you can instead install MNE-Python via <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;mne[full]&quot;</span><span class="w">          </span><span class="c1"># uses PyQt6</span>
<span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;mne[full-pyqt6]&quot;</span><span class="w">    </span><span class="c1"># same as above</span>
<span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;mne[full-pyside6]&quot;</span><span class="w">  </span><span class="c1"># use PySide6</span>
<span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;mne[full-no-qt]&quot;</span><span class="w">    </span><span class="c1"># don&#39;t install any Qt binding</span>
</pre></div>
</div>
</section>
<section id="fixing-dock-icons-on-linux">
<span id="cuda"></span><h2>Fixing dock icons on Linux<a class="headerlink" href="#fixing-dock-icons-on-linux" title="Link to this heading">#</a></h2>
<p>On newer versions of Ubuntu (e.g., 24.04), applications must supply a <code class="docutils literal notranslate"><span class="pre">.desktop</span></code>
file associated with them, otherwise a generic icon will be used like:</p>
<img alt="Default Linux dock icon" src="../_images/default_linux_dock_icon.png" />
<p>To fix this, you can create a <code class="docutils literal notranslate"><span class="pre">.desktop</span></code> file for MNE-Python. Here is an example
file that you can save as <code class="docutils literal notranslate"><span class="pre">~/.local/share/applications/mne-python.desktop</span></code> after
fixing the path to the MNE-Python icon, which you can download
<a class="reference external" href="https://github.com/mne-tools/mne-python/blob/922a7801a0ca6af225c7b861fe6bd97b1518af3a/mne/icons/mne_default_icon.png">here</a>
if needed:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Desktop Entry]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">Application</span>
<span class="na">Version</span><span class="o">=</span><span class="s">1.5</span>
<span class="na">Name</span><span class="o">=</span><span class="s">MNE-Python</span>
<span class="na">StartupWMClass</span><span class="o">=</span><span class="s">MNE-Python</span>
<span class="na">Icon</span><span class="o">=</span><span class="s">/path/to/mne-python/mne/icons/mne_default_icon.png</span>
<span class="na">SingleMainWindow</span><span class="o">=</span><span class="s">true</span>
<span class="na">NoDisplay</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>It should make the icon appear correctly in the dock:</p>
<img alt="MNE-Python dock icon" src="../_images/mne_python_dock_icon.png" />
</section>
<section id="gpu-acceleration-with-cuda">
<h2>GPU acceleration with CUDA<a class="headerlink" href="#gpu-acceleration-with-cuda" title="Link to this heading">#</a></h2>
<p>MNE-Python can utilize <a class="reference external" href="https://developer.nvidia.com/cuda-zone">NVIDIA CUDA GPU processing</a> to speed up some
operations (e.g. FIR filtering) by roughly an order of magnitude. To use CUDA,
first  ensure that you are running the <a class="reference external" href="https://www.geforce.com/drivers">NVIDIA proprietary drivers</a> on your
operating system, and then do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>cupy
<span class="gp">$ </span><span class="nv">MNE_USE_CUDA</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import mne; mne.cuda.init_cuda(verbose=True)&quot;</span>
<span class="go">Enabling CUDA with 1.55 GB available memory</span>
</pre></div>
</div>
<p>If you receive a message reporting the GPU’s available memory, <a class="reference external" href="https://cupy.chainer.org/">CuPy</a>
is working properly. To permanently enable CUDA in MNE, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mne</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">set_config</span><span class="p">(</span><span class="s1">&#39;MNE_USE_CUDA&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then test MNE CUDA support by running the associated test:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pytest<span class="w"> </span>mne/tests/test_filter.py<span class="w"> </span>-k<span class="w"> </span>cuda
</pre></div>
</div>
<p>If the tests pass, then CUDA should work in MNE. You can use CUDA in methods
that state that they allow passing <code class="docutils literal notranslate"><span class="pre">n_jobs='cuda'</span></code>, such as
<a class="reference internal" href="../generated/mne.io.Raw.html#mne.io.Raw.filter" title="mne.io.Raw.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mne.io.Raw.filter()</span></code></a> and <a class="reference internal" href="../generated/mne.io.Raw.html#mne.io.Raw.resample" title="mne.io.Raw.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mne.io.Raw.resample()</span></code></a>,
and they should run faster than the CPU-based multithreading such as
<code class="docutils literal notranslate"><span class="pre">n_jobs=8</span></code>.</p>
</section>
<section id="off-screen-rendering-with-mesa">
<h2>Off-screen rendering with MESA<a class="headerlink" href="#off-screen-rendering-with-mesa" title="Link to this heading">#</a></h2>
<p>On remote Linux systems, it might be possible to use MESA software rendering
(such as <code class="docutils literal notranslate"><span class="pre">llvmpipe</span></code> or <code class="docutils literal notranslate"><span class="pre">swr</span></code>) for 3D visualization (with some tweaks).
For example, on CentOS 7.5 you might be able to use an environment variable
to force MESA to use modern OpenGL by using this before executing
<code class="docutils literal notranslate"><span class="pre">spyder</span></code> or <code class="docutils literal notranslate"><span class="pre">python</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">MESA_GL_VERSION_OVERRIDE</span><span class="o">=</span><span class="m">3</span>.3
</pre></div>
</div>
<p>Also, it’s possible that different software rending backends might perform
better than others, such as using the <code class="docutils literal notranslate"><span class="pre">llvmpipe</span></code> backend rather than <code class="docutils literal notranslate"><span class="pre">swr</span></code>.
In newer MESA (21+), rendering can be incorrect when using MSAA, so consider
setting:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">MNE_3D_OPTION_MULTI_SAMPLES</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<p>MESA also can have trouble with full-screen antialiasing, which you can
disable with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">MNE_3D_OPTION_ANTIALIAS</span><span class="o">=</span><span class="nb">false</span>
</pre></div>
</div>
<p>or by doing
<a class="reference internal" href="../generated/mne.viz.set_3d_options.html#mne.viz.set_3d_options" title="mne.viz.set_3d_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.viz.set_3d_options(antialias=False)</span></code></a> within
a given Python session.</p>
<p>Some hardware-accelerated graphics on linux (e.g., some Intel graphics cards)
provide an insufficient implementation of OpenGL, and in those cases it can help to
force software rendering instead with something like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">LIBGL_ALWAYS_SOFTWARE</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<p>Another issue that may come up is that the MESA software itself may be out of date
in certain operating systems, for example CentOS. This may lead to incomplete
rendering of some 3D plots. A solution is described in this <a class="reference external" href="https://github.com/mne-tools/mne-python/issues/7977#issuecomment-729921035">Github comment</a>.
It boils down to building a newer version (e.g., 18.3.6)
locally following a variant of <a class="reference external" href="https://xorg-team.pages.debian.net/xorg/howto/build-mesa.html#_preparing_mesa_sources">these instructions</a>.
If you have CentOS 7 or newer, you can also try some <a class="reference external" href="https://osf.io/download/sp9qg">prebuilt binaries</a> we made.
After downloading the files, untar them and add them to the appropriate library paths
using the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tar<span class="w"> </span>xzvf<span class="w"> </span>mesa_18.3.6_centos_lib.tgz
<span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">LIBGL_DRIVERS_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/lib&quot;</span>
<span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/lib&quot;</span>
</pre></div>
</div>
<p>To check that everything went well, type the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glxinfo<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;OpenGL core profile version&quot;</span>
</pre></div>
</div>
<p>which should give:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OpenGL</span> <span class="n">core</span> <span class="n">profile</span> <span class="n">version</span> <span class="n">string</span><span class="p">:</span> <span class="mf">3.3</span> <span class="p">(</span><span class="n">Core</span> <span class="n">Profile</span><span class="p">)</span> <span class="n">Mesa</span> <span class="mf">18.3.6</span>
</pre></div>
</div>
<p>Another way to check is to type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mne<span class="w"> </span>sys_info
</pre></div>
</div>
<p>and it should show the right version of MESA:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">pyvista</span><span class="p">:</span>       <span class="mf">0.27.4</span> <span class="p">{</span><span class="n">pyvistaqt</span><span class="o">=</span><span class="mf">0.2.0</span><span class="p">,</span> <span class="n">OpenGL</span> <span class="mf">3.3</span> <span class="p">(</span><span class="n">Core</span> <span class="n">Profile</span><span class="p">)</span> <span class="n">Mesa</span> <span class="mf">18.3.6</span> <span class="n">via</span> <span class="n">llvmpipe</span> <span class="p">(</span><span class="n">LLVM</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mi">256</span> <span class="n">bits</span><span class="p">)}</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="troubleshooting-3d-plots">
<span id="troubleshoot-3d"></span><h2>Troubleshooting 3D plots<a class="headerlink" href="#troubleshooting-3d-plots" title="Link to this heading">#</a></h2>
<section id="d-plotting-trouble-after-upgrade-on-macos">
<h3>3D plotting trouble after upgrade on macOS<a class="headerlink" href="#d-plotting-trouble-after-upgrade-on-macos" title="Link to this heading">#</a></h3>
<p>When upgrading MNE-Python from version 0.19 or lower, some macOS users may end
up with
conflicting versions of some of the 3D plotting dependencies. If you plot using
the pyvista 3D backend and find that you can click-drag to rotate the brain,
but cannot adjust any of the settings sliders, it is likely that your versions
of VTK and/or QT are incompatible. This series of commands should fix it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>uninstall<span class="w"> </span>vtk
<span class="gp">$ </span>pip<span class="w"> </span>uninstall<span class="w"> </span>-y<span class="w"> </span>pyvista
<span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>vtk
<span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>--no-cache<span class="w"> </span>pyvista
</pre></div>
</div>
<p>If you installed VTK using <code class="docutils literal notranslate"><span class="pre">pip</span></code> rather than <code class="docutils literal notranslate"><span class="pre">conda</span></code>, substitute the first
line for <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">uninstall</span> <span class="pre">-y</span> <span class="pre">vtk</span></code>.</p>
</section>
<section id="d-plotting-trouble-on-linux">
<h3>3D plotting trouble on Linux<a class="headerlink" href="#d-plotting-trouble-on-linux" title="Link to this heading">#</a></h3>
<p>If you are having trouble with 3D plotting on Linux, one possibility is that you
are using Wayland for graphics. To check, you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$XDG_SESSION_TYPE</span>
<span class="go">wayland</span>
</pre></div>
</div>
<p>If so, you will need to tell Qt to use X11 instead of Wayland. You can do this
by setting <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">QT_QPA_PLATFORM=xcb</span></code> in your terminal session. To make it
permanent for your logins, you can set it for example in <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code>.</p>
</section>
</section>
</section>


  
</div>

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="manual_install.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Install via <code class="code docutils literal notranslate"><span class="pre">pip</span></code> or <code class="code docutils literal notranslate"><span class="pre">conda</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="check_installation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Testing your installation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-jupyter-notebooks-and-jupyterlab">Working with Jupyter Notebooks and JupyterLab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-to-a-headless-linux-server">Installing to a headless Linux server</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-development-version">Using the development version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#choosing-the-qt-framework">Choosing the Qt framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fixing-dock-icons-on-linux">Fixing dock icons on Linux</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-acceleration-with-cuda">GPU acceleration with CUDA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#off-screen-rendering-with-mesa">Off-screen rendering with MESA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting-3d-plots">Troubleshooting 3D plots</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-plotting-trouble-after-upgrade-on-macos">3D plotting trouble after upgrade on macOS</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-plotting-trouble-on-linux">3D plotting trouble on Linux</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

    <script src="https://mne.tools/versionwarning.js"></script>
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="text-center small">&copy; Copyright 2012–2025, MNE Developers. Last updated <time datetime="2025-12-18T06:27:17.132281+00:00" class="localized">2025-12-18 06:27 UTC</time>.
<script type="text/javascript">
function formatTimestamp() {
    document.querySelectorAll("time.localized").forEach(el => {
        const d = new Date(el.getAttribute("datetime"));
        el.textContent = d.toLocaleString("sv-SE", { "timeZoneName": "short" });
    });
}
if (document.readyState !== "loading") {
    formatTimestamp();
} else {
    document.addEventListener("DOMContentLoaded", formatTimestamp);
}
</script></p></div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>