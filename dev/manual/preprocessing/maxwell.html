<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Maxwell filtering &#8212; MNE 0.17.dev0 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/reset-syntax.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <script type="text/javascript" src="../../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head><body>

<div class="row devbar alert alert-danger">
This documentation is for <strong>development version 0.17.dev0</strong>.
</div>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.17.dev0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../getting_started.html">Install</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../python_reference.html">API</a></li>
                <li><a href="../../glossary.html">Glossary</a></li>
                <li><a href="../../auto_examples/index.html">Examples</a></li>
                <li><a href="../../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-danger navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.17.dev0
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.16 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Maxwell filtering</a><ul>
<li><a class="reference internal" href="#about-maxwell-filtering">About Maxwell filtering</a></li>
<li><a class="reference internal" href="#movement-compensation">Movement compensation</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="section" id="maxwell-filtering">
<span id="maxwell"></span><h1>Maxwell filtering<a class="headerlink" href="#maxwell-filtering" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#about-maxwell-filtering" id="id6">About Maxwell filtering</a></li>
<li><a class="reference internal" href="#movement-compensation" id="id7">Movement compensation</a></li>
<li><a class="reference internal" href="#references" id="id8">References</a></li>
</ul>
</div>
<p>Maxwell filtering in mne-python can be used to suppress sources of external
interference and compensate for subject head movements.</p>
<div class="section" id="about-maxwell-filtering">
<h2><a class="toc-backref" href="#id6">About Maxwell filtering</a><a class="headerlink" href="#about-maxwell-filtering" title="Permalink to this headline">¶</a></h2>
<p>The principles behind Maxwell filtering are covered in relevant references
<a class="footnote-reference" href="#id4" id="id1">[1]</a> <a class="footnote-reference" href="#id5" id="id2">[2]</a> as well as the Elekta MaxFilter manual; see those materials
for basic principles and algorithm descriptions.</p>
<p>In mne-python Maxwell filtering of raw data can be done using the
<a class="reference internal" href="../../generated/mne.preprocessing.maxwell_filter.html#mne.preprocessing.maxwell_filter" title="mne.preprocessing.maxwell_filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.preprocessing.maxwell_filter()</span></code></a> function.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Automatic bad channel detection is not currently implemented.
It is critical to mark bad channels before running Maxwell
filtering, so data should be inspected and marked accordingly
prior to running this algorithm.</p>
</div>
<p>Our Maxwell filtering algorithm currently provides multiple features,
including:</p>
<blockquote>
<div><ul class="simple">
<li>Bad channel reconstruction</li>
<li>Cross-talk cancellation</li>
<li>Fine calibration correction</li>
<li>tSSS</li>
<li>Coordinate frame translation</li>
<li>Regularization of internal components using information theory</li>
<li>Raw movement compensation
(using head positions estimated by MaxFilter)</li>
<li>cHPI subtraction (see <a class="reference internal" href="../../generated/mne.chpi.filter_chpi.html#mne.chpi.filter_chpi" title="mne.chpi.filter_chpi"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.chpi.filter_chpi()</span></code></a>)</li>
<li>Handling of 3D (in addition to 1D) fine calibration files</li>
<li>Epoch-based movement compensation as described in <a class="footnote-reference" href="#id4" id="id3">[1]</a> through
<a class="reference internal" href="../../generated/mne.epochs.average_movements.html#mne.epochs.average_movements" title="mne.epochs.average_movements"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.epochs.average_movements()</span></code></a></li>
<li><strong>Experimental</strong> processing of data from (un-compensated)
non-Elekta systems</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="movement-compensation">
<h2><a class="toc-backref" href="#id7">Movement compensation</a><a class="headerlink" href="#movement-compensation" title="Permalink to this headline">¶</a></h2>
<p>When subject head movements are recorded continuously using continuous HPI
(cHPI) and subjects are expected to move during the recording (e.g., when
recording data in children), movement compensation can be performed to
correct for head movements. Movement compensation can be performed two ways:</p>
<ol class="arabic simple">
<li>Raw movement compensation: <a class="reference internal" href="../../generated/mne.preprocessing.maxwell_filter.html#mne.preprocessing.maxwell_filter" title="mne.preprocessing.maxwell_filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.preprocessing.maxwell_filter()</span></code></a> using
the <code class="docutils literal notranslate"><span class="pre">pos</span></code> argument.</li>
<li>Evoked movement compensation: <a class="reference internal" href="../../generated/mne.epochs.average_movements.html#mne.epochs.average_movements" title="mne.epochs.average_movements"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.epochs.average_movements()</span></code></a>.</li>
</ol>
<p>Each of these requires time-varying estimates of head positions, which can
currently be obtained from MaxFilter using the <code class="docutils literal notranslate"><span class="pre">-headpos</span></code> and <code class="docutils literal notranslate"><span class="pre">-hp</span></code>
arguments (see the MaxFilter manual for details). The resulting
MaxFilter-style head position information can be read using
<a class="reference internal" href="../../generated/mne.chpi.read_head_pos.html#mne.chpi.read_head_pos" title="mne.chpi.read_head_pos"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.chpi.read_head_pos()</span></code></a> and passed to mne-python’s movement
compensation algorithms.</p>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id8">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> <p>Taulu S. and Kajola M. “Presentation of electromagnetic
multichannel data: The signal space separation method,”
Journal of Applied Physics, vol. 97, pp. 124905 1-10, 2005.</p>
<p class="last"><a class="reference external" href="http://lib.tkk.fi/Diss/2008/isbn9789512295654/article2.pdf">http://lib.tkk.fi/Diss/2008/isbn9789512295654/article2.pdf</a></p>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><p class="first">Taulu S. and Simola J. “Spatiotemporal signal space separation
method for rejecting nearby interference in MEG measurements,”
Physics in Medicine and Biology, vol. 51, pp. 1759-1768, 2006.</p>
<p class="last"><a class="reference external" href="http://lib.tkk.fi/Diss/2008/isbn9789512295654/article3.pdf">http://lib.tkk.fi/Diss/2008/isbn9789512295654/article3.pdf</a></p>
</td></tr>
</tbody>
</table>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container"><img src="../../_static/institutions.png" alt="Institutions"></div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2018, MNE Developers. Last updated on 2018-09-16.</p>
  </div>
</footer>
  </body>
</html>