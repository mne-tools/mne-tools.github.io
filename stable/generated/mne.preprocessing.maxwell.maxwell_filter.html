<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mne.preprocessing.maxwell.maxwell_filter &mdash; MNE 0.11.dev0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.11.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="MNE 0.11.dev0 documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="../python_reference.html" />
    <link rel="next" title="mne.preprocessing.ica.read_ica" href="mne.preprocessing.ica.read_ica.html" />
    <link rel="prev" title="mne.preprocessing.ica.ica_find_eog_events" href="mne.preprocessing.ica.ica_find_eog_events.html" />

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="http://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body role="document">





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/mne_logo_small.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.11.dev0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../auto_examples/index.html">Gallery</a></li>
                <li><a href="../manual/index.html">Manual</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../faq.html">FAQ</a></li>
                <li><a href="../cite.html">Cite</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">Cite MNE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">Related publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../python_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_setup.html">Advanced installation and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mne_cpp.html">MNE with CPP</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">mne.preprocessing.maxwell.maxwell_filter</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">mne.preprocessing.maxwell.maxwell_filter</a></li>
</ul>

  <li>
    <a href="mne.preprocessing.ica.ica_find_eog_events.html" title="Previous Chapter: mne.preprocessing.ica.ica_find_eog_events"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; mne.preproces...</span>
    </a>
  </li>
  <li>
    <a href="mne.preprocessing.ica.read_ica.html" title="Next Chapter: mne.preprocessing.ica.read_ica"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">mne.preproces... &raquo;</span>
    </a>
  </li>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12">
      
  <div class="section" id="mne-preprocessing-maxwell-maxwell-filter">
<h1>mne.preprocessing.maxwell.maxwell_filter<a class="headerlink" href="#mne-preprocessing-maxwell-maxwell-filter" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mne.preprocessing.maxwell.maxwell_filter">
<code class="descclassname">mne.preprocessing.maxwell.</code><code class="descname">maxwell_filter</code><span class="sig-paren">(</span><em>raw</em>, <em>origin='default'</em>, <em>int_order=8</em>, <em>ext_order=3</em>, <em>calibration=None</em>, <em>cross_talk=None</em>, <em>st_duration=None</em>, <em>st_correlation=0.98</em>, <em>coord_frame='head'</em>, <em>destination=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mne.preprocessing.maxwell.maxwell_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply Maxwell filter to data using multipole moments</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Automatic bad channel detection is not currently implemented.
It is critical to mark bad channels before running Maxwell
filtering, so data should be inspected and marked accordingly
prior to running this algorithm.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Not all features of Elekta MaxFilter™ are currently
implemented (see Notes).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>raw</strong> : instance of mne.io.Raw</p>
<blockquote>
<div><p>Data to be filtered</p>
</div></blockquote>
<p><strong>origin</strong> : array-like, shape (3,) | str</p>
<blockquote>
<div><p>Origin of internal and external multipolar moment space in head coords
and in meters. The default is <code class="docutils literal"><span class="pre">'default'</span></code>, which means
<code class="docutils literal"><span class="pre">(0.,</span> <span class="pre">0.,</span> <span class="pre">40e-3)</span></code> for <code class="docutils literal"><span class="pre">coord_frame='head'</span></code> and
<code class="docutils literal"><span class="pre">(0.,</span> <span class="pre">13e-3,</span> <span class="pre">-6e-3)</span></code> for <code class="docutils literal"><span class="pre">coord_frame='meg'</span></code>.</p>
</div></blockquote>
<p><strong>int_order</strong> : int</p>
<blockquote>
<div><p>Order of internal component of spherical expansion</p>
</div></blockquote>
<p><strong>ext_order</strong> : int</p>
<blockquote>
<div><p>Order of external component of spherical expansion</p>
</div></blockquote>
<p><strong>calibration</strong> : str | None</p>
<blockquote>
<div><p>Path to the <code class="docutils literal"><span class="pre">'.dat'</span></code> file with fine calibration coefficients.
File can have 1D or 3D gradiometer imbalance correction.
This file is machine/site-specific.</p>
</div></blockquote>
<p><strong>cross_talk</strong> : str | None</p>
<blockquote>
<div><p>Path to the FIF file with cross-talk correction information.</p>
</div></blockquote>
<p><strong>st_duration</strong> : float | None</p>
<blockquote>
<div><p>If not None, apply spatiotemporal SSS with specified buffer duration
(in seconds). Elekta&#8217;s default is 10.0 seconds in MaxFilter™ v2.2.
Spatiotemporal SSS acts as implicitly as a high-pass filter where the
cut-off frequency is 1/st_dur Hz. For this (and other) reasons, longer
buffers are generally better as long as your system can handle the
higher memory usage. To ensure that each window is processed
identically, choose a buffer length that divides evenly into your data.
Any data at the trailing edge that doesn&#8217;t fit evenly into a whole
buffer window will be lumped into the previous buffer.</p>
</div></blockquote>
<p><strong>st_correlation</strong> : float</p>
<blockquote>
<div><p>Correlation limit between inner and outer subspaces used to reject
ovwrlapping intersecting inner/outer signals during spatiotemporal SSS.</p>
</div></blockquote>
<p><strong>coord_frame</strong> : str</p>
<blockquote>
<div><p>The coordinate frame that the <code class="docutils literal"><span class="pre">origin</span></code> is specified in, either
<code class="docutils literal"><span class="pre">'meg'</span></code> or <code class="docutils literal"><span class="pre">'head'</span></code>. For empty-room recordings that do not have
a head&lt;-&gt;meg transform <code class="docutils literal"><span class="pre">info['dev_head_t']</span></code>, the MEG coordinate
frame should be used.</p>
</div></blockquote>
<p><strong>destination</strong> : str | array-like, shape (3,) | None</p>
<blockquote>
<div><p>The destination location for the head. Can be <code class="docutils literal"><span class="pre">None</span></code>, which
will not change the head position, or a string path to a FIF file
containing a MEG device&lt;-&gt;head transformation, or a 3-element array
giving the coordinates to translate to (with no rotations).
For example, <code class="docutils literal"><span class="pre">destination=(0,</span> <span class="pre">0,</span> <span class="pre">0.04)</span></code> would translate the bases
as <code class="docutils literal"><span class="pre">--trans</span> <span class="pre">default</span></code> would in MaxFilter™ (i.e., to the default
head location).</p>
</div></blockquote>
<p><strong>verbose</strong> : bool, str, int, or None</p>
<blockquote>
<div><p>If not None, override default verbose level (see mne.verbose)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>raw_sss</strong> : instance of mne.io.Raw</p>
<blockquote class="last">
<div><p>The raw data with Maxwell filtering applied</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.11.</span></p>
</div>
<p>Equation numbers refer to Taulu and Kajola, 2005 <a class="reference internal" href="#r14" id="id1">[R14]</a> unless otherwise
noted.</p>
<p>Some of this code was adapted and relicensed (with BSD form) with
permission from Jussi Nurminen.</p>
<p>Compared to Elekta&#8217;s MaxFilter™ software, our algorithm
currently provides the following features:</p>
<blockquote>
<div><ul class="simple">
<li>Basic Maxwell filtering</li>
<li>Cross-talk cancellation</li>
<li>tSSS</li>
<li>Bad channel reconstruction</li>
<li>Coordinate frame translation</li>
</ul>
</div></blockquote>
<p>The following features are not yet implemented:</p>
<blockquote>
<div><ul class="simple">
<li>Movement compensation</li>
<li>Automatic bad channel detection</li>
<li>Regularization of in/out components</li>
<li>cHPI subtraction</li>
</ul>
</div></blockquote>
<p>Our algorithm has the following enhancements:</p>
<blockquote>
<div><ul class="simple">
<li>Double floating point precision</li>
<li>Handling of 3D (in additon to 1D) fine calibration files</li>
<li>Processing of data from (un-compensated) non-Elekta systems</li>
</ul>
</div></blockquote>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R14]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> <p>Taulu S. and Kajola M. &#8220;Presentation of electromagnetic
multichannel data: The signal space separation method,&#8221;
Journal of Applied Physics, vol. 97, pp. 124905 1-10, 2005.</p>
<p class="last"><a class="reference external" href="http://lib.tkk.fi/Diss/2008/isbn9789512295654/article2.pdf">http://lib.tkk.fi/Diss/2008/isbn9789512295654/article2.pdf</a></p>
</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[R15]</a></td><td><p class="first">Taulu S. and Simola J. &#8220;Spatiotemporal signal space separation
method for rejecting nearby interference in MEG measurements,&#8221;
Physics in Medicine and Biology, vol. 51, pp. 1759-1768, 2006.</p>
<p class="last"><a class="reference external" href="http://lib.tkk.fi/Diss/2008/isbn9789512295654/article3.pdf">http://lib.tkk.fi/Diss/2008/isbn9789512295654/article3.pdf</a></p>
</td></tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2012-2015, MNE Developers.<br/>
    </p>
  </div>
</footer>
  </body>
</html>