<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Browsing raw data with mne_browse_raw &#8212; MNE 0.18.2 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap_divs.css" />
    <link rel="stylesheet" href="../../_static/reset-syntax.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap_divs.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <script type="text/javascript" src="../../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>



<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>



  </head><body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.18.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../getting_started.html">Install</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../python_reference.html">API</a></li>
                <li><a href="../../glossary.html">Glossary</a></li>
                <li><a href="../../auto_examples/index.html">Examples</a></li>
                <li><a href="../../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.18.2
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.18 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.17/index.html">v0.17</a></li>
    <li><a href="https://mne-tools.github.io/0.16/index.html">v0.16</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Browsing raw data with mne_browse_raw</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#the-user-interface">The user interface</a></li>
<li><a class="reference internal" href="#the-file-menu">The File menu</a><ul>
<li><a class="reference internal" href="#open">Open</a></li>
<li><a class="reference internal" href="#open-evoked">Open evoked</a></li>
<li><a class="reference internal" href="#save">Save</a></li>
<li><a class="reference internal" href="#change-working-directory">Change working directory</a></li>
<li><a class="reference internal" href="#read-projection">Read projection</a></li>
<li><a class="reference internal" href="#save-projection">Save projection</a></li>
<li><a class="reference internal" href="#apply-bad-channels">Apply bad channels</a></li>
<li><a class="reference internal" href="#load-events-text">Load events (text)</a></li>
<li><a class="reference internal" href="#load-events-fif">Load events (fif)</a></li>
<li><a class="reference internal" href="#save-events-text">Save events (text)</a></li>
<li><a class="reference internal" href="#save-events-fif">Save events (fif)</a></li>
<li><a class="reference internal" href="#load-derivations">Load derivations</a></li>
<li><a class="reference internal" href="#save-derivations">Save derivations</a></li>
<li><a class="reference internal" href="#load-channel-selections">Load channel selections</a></li>
<li><a class="reference internal" href="#save-channel-selections">Save channel selections</a></li>
<li><a class="reference internal" href="#quit">Quit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-adjust-menu">The Adjust menu</a><ul>
<li><a class="reference internal" href="#filter">Filter</a></li>
<li><a class="reference internal" href="#scales">Scales</a></li>
<li><a class="reference internal" href="#colors">Colors</a></li>
<li><a class="reference internal" href="#derivations">Derivations</a></li>
<li><a class="reference internal" href="#selection">Selection</a></li>
<li><a class="reference internal" href="#full-view-layout">Full view layout</a></li>
<li><a class="reference internal" href="#projection">Projection</a></li>
<li><a class="reference internal" href="#compensation">Compensation</a></li>
<li><a class="reference internal" href="#averaging-preferences">Averaging preferences</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-process-menu">The Process menu</a><ul>
<li><a class="reference internal" href="#averaging">Averaging</a></li>
<li><a class="reference internal" href="#estimation-of-a-covariance-matrix">Estimation of a covariance matrix</a></li>
<li><a class="reference internal" href="#estimation-of-a-covariance-matrix-from-raw-data">Estimation of a covariance matrix from raw data</a></li>
<li><a class="reference internal" href="#creating-a-new-ssp-operator">Creating a new SSP operator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-windows-menu">The Windows menu</a></li>
<li><a class="reference internal" href="#the-help-menu">The Help menu</a></li>
<li><a class="reference internal" href="#the-raw-data-display">The raw data display</a><ul>
<li><a class="reference internal" href="#browsing-data">Browsing data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events-and-annotations">Events and annotations</a><ul>
<li><a class="reference internal" href="#babjgedf">Overview</a></li>
<li><a class="reference internal" href="#the-event-list">The event list</a></li>
<li><a class="reference internal" href="#loading-and-saving-event-files">Loading and saving event files</a></li>
<li><a class="reference internal" href="#defining-annotated-events">Defining annotated events</a></li>
<li><a class="reference internal" href="#event-files">Event files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-tool-bar">The tool bar</a></li>
<li><a class="reference internal" href="#topographical-data-displays">Topographical data displays</a></li>
<li><a class="reference internal" href="#description-files-for-off-line-averaging">Description files for off-line averaging</a><ul>
<li><a class="reference internal" href="#overall-format">Overall format</a></li>
<li><a class="reference internal" href="#common-parameters">Common parameters</a></li>
<li><a class="reference internal" href="#category-definition">Category definition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#description-files-for-covariance-matrix-estimation">Description files for covariance matrix estimation</a><ul>
<li><a class="reference internal" href="#id2">Overall format</a></li>
<li><a class="reference internal" href="#babcgeje">Common parameters</a></li>
<li><a class="reference internal" href="#covariance-definitions">Covariance definitions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-averages">Managing averages</a></li>
<li><a class="reference internal" href="#the-signal-space-projection-ssp-method">The Signal-Space Projection (SSP) method</a><ul>
<li><a class="reference internal" href="#general-concepts">General concepts</a></li>
<li><a class="reference internal" href="#eeg-average-electrode-reference">EEG average electrode reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#covariance-matrix-estimation">Covariance matrix estimation</a><ul>
<li><a class="reference internal" href="#continuous-raw-data">Continuous raw data</a></li>
<li><a class="reference internal" href="#epochs">Epochs</a></li>
<li><a class="reference internal" href="#combination-of-covariance-matrix-estimates">Combination of covariance matrix estimates</a></li>
<li><a class="reference internal" href="#ssp-information-included-with-covariance-matrices">SSP information included with covariance matrices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interacting-with-mne-analyze">Interacting with mne_analyze</a></li>
</ul>
</li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="browsing-raw-data-with-mne-browse-raw">
<span id="ch-browse"></span><h1>Browsing raw data with mne_browse_raw<a class="headerlink" href="#browsing-raw-data-with-mne-browse-raw" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id16">Overview</a></p></li>
<li><p><a class="reference internal" href="#the-user-interface" id="id17">The user interface</a></p></li>
<li><p><a class="reference internal" href="#the-file-menu" id="id18">The File menu</a></p>
<ul>
<li><p><a class="reference internal" href="#open" id="id19">Open</a></p></li>
<li><p><a class="reference internal" href="#open-evoked" id="id20">Open evoked</a></p></li>
<li><p><a class="reference internal" href="#save" id="id21">Save</a></p></li>
<li><p><a class="reference internal" href="#change-working-directory" id="id22">Change working directory</a></p></li>
<li><p><a class="reference internal" href="#read-projection" id="id23">Read projection</a></p></li>
<li><p><a class="reference internal" href="#save-projection" id="id24">Save projection</a></p></li>
<li><p><a class="reference internal" href="#apply-bad-channels" id="id25">Apply bad channels</a></p></li>
<li><p><a class="reference internal" href="#load-events-text" id="id26">Load events (text)</a></p></li>
<li><p><a class="reference internal" href="#load-events-fif" id="id27">Load events (fif)</a></p></li>
<li><p><a class="reference internal" href="#save-events-text" id="id28">Save events (text)</a></p></li>
<li><p><a class="reference internal" href="#save-events-fif" id="id29">Save events (fif)</a></p></li>
<li><p><a class="reference internal" href="#load-derivations" id="id30">Load derivations</a></p></li>
<li><p><a class="reference internal" href="#save-derivations" id="id31">Save derivations</a></p></li>
<li><p><a class="reference internal" href="#load-channel-selections" id="id32">Load channel selections</a></p></li>
<li><p><a class="reference internal" href="#save-channel-selections" id="id33">Save channel selections</a></p></li>
<li><p><a class="reference internal" href="#quit" id="id34">Quit</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-adjust-menu" id="id35">The Adjust menu</a></p>
<ul>
<li><p><a class="reference internal" href="#filter" id="id36">Filter</a></p></li>
<li><p><a class="reference internal" href="#scales" id="id37">Scales</a></p></li>
<li><p><a class="reference internal" href="#colors" id="id38">Colors</a></p></li>
<li><p><a class="reference internal" href="#derivations" id="id39">Derivations</a></p></li>
<li><p><a class="reference internal" href="#selection" id="id40">Selection</a></p></li>
<li><p><a class="reference internal" href="#full-view-layout" id="id41">Full view layout</a></p></li>
<li><p><a class="reference internal" href="#projection" id="id42">Projection</a></p></li>
<li><p><a class="reference internal" href="#compensation" id="id43">Compensation</a></p></li>
<li><p><a class="reference internal" href="#averaging-preferences" id="id44">Averaging preferences</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-process-menu" id="id45">The Process menu</a></p>
<ul>
<li><p><a class="reference internal" href="#averaging" id="id46">Averaging</a></p></li>
<li><p><a class="reference internal" href="#estimation-of-a-covariance-matrix" id="id47">Estimation of a covariance matrix</a></p></li>
<li><p><a class="reference internal" href="#estimation-of-a-covariance-matrix-from-raw-data" id="id48">Estimation of a covariance matrix from raw data</a></p></li>
<li><p><a class="reference internal" href="#creating-a-new-ssp-operator" id="id49">Creating a new SSP operator</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-windows-menu" id="id50">The Windows menu</a></p></li>
<li><p><a class="reference internal" href="#the-help-menu" id="id51">The Help menu</a></p></li>
<li><p><a class="reference internal" href="#the-raw-data-display" id="id52">The raw data display</a></p>
<ul>
<li><p><a class="reference internal" href="#browsing-data" id="id53">Browsing data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#events-and-annotations" id="id54">Events and annotations</a></p>
<ul>
<li><p><a class="reference internal" href="#babjgedf" id="id55">Overview</a></p></li>
<li><p><a class="reference internal" href="#the-event-list" id="id56">The event list</a></p></li>
<li><p><a class="reference internal" href="#loading-and-saving-event-files" id="id57">Loading and saving event files</a></p></li>
<li><p><a class="reference internal" href="#defining-annotated-events" id="id58">Defining annotated events</a></p></li>
<li><p><a class="reference internal" href="#event-files" id="id59">Event files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-tool-bar" id="id60">The tool bar</a></p></li>
<li><p><a class="reference internal" href="#topographical-data-displays" id="id61">Topographical data displays</a></p></li>
<li><p><a class="reference internal" href="#description-files-for-off-line-averaging" id="id62">Description files for off-line averaging</a></p>
<ul>
<li><p><a class="reference internal" href="#overall-format" id="id63">Overall format</a></p></li>
<li><p><a class="reference internal" href="#common-parameters" id="id64">Common parameters</a></p></li>
<li><p><a class="reference internal" href="#category-definition" id="id65">Category definition</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#description-files-for-covariance-matrix-estimation" id="id66">Description files for covariance matrix estimation</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id67">Overall format</a></p></li>
<li><p><a class="reference internal" href="#babcgeje" id="id68">Common parameters</a></p></li>
<li><p><a class="reference internal" href="#covariance-definitions" id="id69">Covariance definitions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#managing-averages" id="id70">Managing averages</a></p></li>
<li><p><a class="reference internal" href="#the-signal-space-projection-ssp-method" id="id71">The Signal-Space Projection (SSP) method</a></p>
<ul>
<li><p><a class="reference internal" href="#general-concepts" id="id72">General concepts</a></p></li>
<li><p><a class="reference internal" href="#eeg-average-electrode-reference" id="id73">EEG average electrode reference</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#covariance-matrix-estimation" id="id74">Covariance matrix estimation</a></p>
<ul>
<li><p><a class="reference internal" href="#continuous-raw-data" id="id75">Continuous raw data</a></p></li>
<li><p><a class="reference internal" href="#epochs" id="id76">Epochs</a></p></li>
<li><p><a class="reference internal" href="#combination-of-covariance-matrix-estimates" id="id77">Combination of covariance matrix estimates</a></p></li>
<li><p><a class="reference internal" href="#ssp-information-included-with-covariance-matrices" id="id78">SSP information included with covariance matrices</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#interacting-with-mne-analyze" id="id79">Interacting with mne_analyze</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id16">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The raw data processor <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> is
designed for simple raw data viewing and processing operations. In
addition, the program is capable of off-line averaging and estimation
of covariance matrices. <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> can
be also used to view averaged data in the topographical layout.
Finally, <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> can communicate
with <a class="reference internal" href="../c_reference.html#mne-analyze"><span class="std std-ref">mne_analyze</span></a> described in <a class="reference internal" href="analyze.html#c-legacy-ch-interactive-analysis"><span class="std std-ref">Interactive analysis with mne_analyze</span></a> to
calculate current estimates from raw data interactively.</p>
<p><a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> has also
an alias, <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a>. If <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a> is
invoked, no user interface appears. Instead, command line options
are used to specify the filtering parameters as well as averaging
and covariance-matrix estimation command files for batch processing. This
chapter discusses both <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> and <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a>.</p>
<p>See command-line documentation of <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> and <em class="xref py py-obj">mne_process_raw</em>.</p>
</div>
<div class="section" id="the-user-interface">
<h2><a class="toc-backref" href="#id17">The user interface</a><a class="headerlink" href="#the-user-interface" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id4" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/windows_menu-7.png"><img alt="The user interface of mne_browse_raw" src="../../_images/windows_menu-7.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">The user interface of mne_browse_raw</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>The mne_browse_raw user
interface contains the following areas:</p>
<ul class="simple">
<li><p>The menu bar.</p></li>
<li><p>The data display area.</p></li>
<li><p>Viewing and averaging tools.</p></li>
<li><p>Message line.</p></li>
</ul>
<p>The viewing and averaging tools allow quick browsing of the
raw data with triggers, adding new triggers, and averaging on a
single trigger.</p>
</div>
<div class="section" id="the-file-menu">
<h2><a class="toc-backref" href="#id18">The File menu</a><a class="headerlink" href="#the-file-menu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="open">
<span id="cacdchaj"></span><h3><a class="toc-backref" href="#id19">Open</a><a class="headerlink" href="#open" title="Permalink to this headline">¶</a></h3>
<p>Selecting Open from file
menu pops up the dialog shown in <a class="reference internal" href="#cacbhgfe"><span class="std std-ref">The Open dialog.</span></a>.</p>
<p>The Raw files and Maxfilter output buttons change the file name filter to include
names which end with <code class="docutils literal notranslate"><span class="pre">_raw.fif</span></code> or <code class="docutils literal notranslate"><span class="pre">sss.fif</span></code> ,
respectively, to facilitate selection of original raw files or those
processed with the Neuromag Maxfilter (TM) software</p>
<p>The options under Software gradient compensation allow
selection of the compensation grade for the data. These selections
apply to the CTF data only. The standard choices are No compensation and Third-order gradient. If
other than No compensation is
attempted for non-CTF data, an error will be issued. The compensation
selection affects the averages and noise-covariance matrices subsequently
computed. The desired compensation takes effect independent of the
compensation state of the data in the file, <em>i.e.</em>,
already compensated data can be uncompensated and vice versa. For more
information on software gradient compensation please consult <a class="reference internal" href="../io.html#behddfbi"><span class="std std-ref">Applying software gradient compensation</span></a>.</p>
<p>The Keep the initial skip button
controls how the initial segment of data not stored in the raw data
file is handled. During the MEG acquisition data are collected continuously
but saving to the raw data file is controlled by the Record raw button. Initial skip refers to the segment
of data between the start of the recording and the first activation
of Record raw . If Keep initial skip is set, this empty segment is taken into
account in timing, otherwise time zero is set to the beginning of
the data stored to disk.</p>
<p>When a raw data file is opened, the digital trigger channel
is scanned for events. For large files this may take a while.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After scanning the trigger channel for events, mne_browse_raw and mne_process_raw produce    a fif file containing the event information. This file will be called &lt;<em>raw data file name without fif extension</em>&gt; <code class="docutils literal notranslate"><span class="pre">-eve.fif</span></code> . If    the same raw data file is opened again, this file will be consulted    for event information thus making it unnecessary to scan through    the file for trigger line events.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can produce the fif event file by running mne_process_raw as follows: <code class="docutils literal notranslate"><span class="pre">mne_process_raw</span> <span class="pre">--raw</span></code> &lt;<em>raw data file</em>&gt; .    The fif format event files can be read and written with the mne_read_events and mne_write_events functions    in the MNE Matlab toolbox, see <a class="reference internal" href="../matlab.html#ch-matlab"><span class="std std-ref">MNE-MATLAB toolbox</span></a>.</p>
</div>
<div class="figure align-default" id="id5">
<span id="cacbhgfe"></span><img alt="Open dialog" src="../../_images/open_dialog1.png" />
<p class="caption"><span class="caption-text">The Open dialog.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="open-evoked">
<span id="babjejdg"></span><h3><a class="toc-backref" href="#id20">Open evoked</a><a class="headerlink" href="#open-evoked" title="Permalink to this headline">¶</a></h3>
<p>This menu item brings up a standard file selection dialog
to load evoked-response data from files. All data sets from a file
are loaded automatically and display in the average view window,
see <a class="reference internal" href="#cacdadba"><span class="std std-ref">Topographical data displays</span></a>. The data loaded are affected by the
scale settings, see, <a class="reference internal" href="#cacbehcd"><span class="std std-ref">Scales</span></a>, the filter, see <a class="reference internal" href="#caccdbbg"><span class="std std-ref">Filter</span></a>, and the options selected in the Manage averages dialog, see <a class="reference internal" href="#cacjfadf"><span class="std std-ref">Managing averages</span></a>.</p>
</div>
<div class="section" id="save">
<span id="cacbddie"></span><h3><a class="toc-backref" href="#id21">Save</a><a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h3>
<p>It is possible to save filtered and projected data into a
new raw data file. When you invoke the save option from the file
menu, you will be prompted for the output file name and a down-sampling
factor. The sampling frequency after down-sampling must be at least
three times the lowpass filter corner frequency. The output will
be split into files which are just below 2 GB so that the fif file
maximum size is not exceed.</p>
<p>If &lt;<em>filename</em>&gt; ends
with <code class="docutils literal notranslate"><span class="pre">.fif</span></code> or <code class="docutils literal notranslate"><span class="pre">_raw.fif</span></code> , these endings are
deleted. After these modifications, <code class="docutils literal notranslate"><span class="pre">_raw.fif</span></code> is inserted
after the remaining part of the file name. If the file is split
into multiple parts, the additional parts will be called &lt;<em>name</em>&gt; <code class="docutils literal notranslate"><span class="pre">-</span></code> &lt;<em>number</em>&gt; <code class="docutils literal notranslate"><span class="pre">_raw.fif</span></code> .
For downsampling and saving options in mne_process_raw ,
see <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a>.</p>
</div>
<div class="section" id="change-working-directory">
<h3><a class="toc-backref" href="#id22">Change working directory</a><a class="headerlink" href="#change-working-directory" title="Permalink to this headline">¶</a></h3>
<p>Brings up a file selection dialog which allows changing of
the working directory.</p>
</div>
<div class="section" id="read-projection">
<span id="cacdfjda"></span><h3><a class="toc-backref" href="#id23">Read projection</a><a class="headerlink" href="#read-projection" title="Permalink to this headline">¶</a></h3>
<p>Selecting Read projection… from
the File menu, pops up a dialog
to enter a name of a file containing a signal-space projection operator
to be applied to the data. There is an option to keep existing projection
items.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whenever EEG channels are present in the data,    a projection item corresponding to the average EEG reference is    automatically added.</p>
</div>
</div>
<div class="section" id="save-projection">
<h3><a class="toc-backref" href="#id24">Save projection</a><a class="headerlink" href="#save-projection" title="Permalink to this headline">¶</a></h3>
<p>The Save projection… item
in the File menu pops up a dialog
to save the present projection operator into a file. Normally, the
EEG average reference projection is not included. If you want to
include it, mark the Include EEG average reference option.
If your MEG projection includes items for both magnetometers and
gradiometers and you want to use the projection operator file output
from here in the Neuromag Signal processor (graph) software,
mark the Enforce compatibility with graph option.</p>
</div>
<div class="section" id="apply-bad-channels">
<h3><a class="toc-backref" href="#id25">Apply bad channels</a><a class="headerlink" href="#apply-bad-channels" title="Permalink to this headline">¶</a></h3>
<p>Applies the current selection of bad channels to the currently
open raw file.</p>
</div>
<div class="section" id="load-events-text">
<h3><a class="toc-backref" href="#id26">Load events (text)</a><a class="headerlink" href="#load-events-text" title="Permalink to this headline">¶</a></h3>
<p>Reads a text format event file. For more information on events,
see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div>
<div class="section" id="load-events-fif">
<h3><a class="toc-backref" href="#id27">Load events (fif)</a><a class="headerlink" href="#load-events-fif" title="Permalink to this headline">¶</a></h3>
<p>Reads a fif format event file. For more information on events,
see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div>
<div class="section" id="save-events-text">
<span id="cacjgifa"></span><h3><a class="toc-backref" href="#id28">Save events (text)</a><a class="headerlink" href="#save-events-text" title="Permalink to this headline">¶</a></h3>
<p>Brings up a a dialog to save all or selected types of events
into a text file. This file can be edited and used in the averaging
and covariance matrix estimation as an input file to specify the
time points of events, see <a class="reference internal" href="#cacbcegc"><span class="std std-ref">Event files</span></a>. For more information
on events, see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div>
<div class="section" id="save-events-fif">
<h3><a class="toc-backref" href="#id29">Save events (fif)</a><a class="headerlink" href="#save-events-fif" title="Permalink to this headline">¶</a></h3>
<p>Save the events in fif format. These binary event files can
be read and written with the mne_read_events and mne_write_events functions
in the MNE Matlab toolbox, see <a class="reference internal" href="../matlab.html#ch-matlab"><span class="std std-ref">MNE-MATLAB toolbox</span></a>. For more information
on events, see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div>
<div class="section" id="load-derivations">
<span id="cacfhafh"></span><h3><a class="toc-backref" href="#id30">Load derivations</a><a class="headerlink" href="#load-derivations" title="Permalink to this headline">¶</a></h3>
<p>This menu choice allows loading of channel derivation data
files created with the mne_make_derivations utility,
see <a class="reference internal" href="../c_reference.html#mne-make-derivations"><span class="std std-ref">mne_make_derivations</span></a>, or using the interactive derivations
editor in mne_browse_raw , see <a class="reference internal" href="#cacjiehi"><span class="std std-ref">Derivations</span></a>, Most common use of derivations is to calculate
differences between EEG channels, <em>i.e.</em>, bipolar
EEG data. Since any number of channels can be included in a derivation
with arbitrary weights, other applications are possible as well.
Before a derivation is accepted to use, the following criteria have
to be met:</p>
<ul class="simple">
<li><p>All channels to be combined into a single
derivation must have identical units of measure.</p></li>
<li><p>All channels in a single derivation have to be of the same
kind, <em>e.g.</em>, MEG channels or EEG channels.</p></li>
<li><p>All channels specified in a derivation have to be present
in the currently loaded data set.</p></li>
</ul>
<p>Multiple derivation data files can be loaded by specifying
the Keep previous derivations option in
the dialog that specifies the derivation file to be loaded. After
a derivation file has been successfully loaded, a list of available
derivations will be shown in a message dialog.</p>
<p>Each of the derived channels has a name specified when the
derivation file was created. The derived channels can be included
in channel selections, see <a class="reference internal" href="#caccjejd"><span class="std std-ref">Selection</span></a>. At present, derived
channels cannot be displayed in topographical data displays. Derived
channels are not included in averages or noise covariance matrix
estimation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the file <code class="docutils literal notranslate"><span class="pre">$HOME/.mne/mne_browse_raw-deriv.fif</span></code> exists and    contains derivation data, it is loaded automatically when mne_browse_raw starts    unless the <code class="docutils literal notranslate"><span class="pre">--deriv</span></code> option has been used to specify    a nonstandard derivation file, see <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a>.</p>
</div>
</div>
<div class="section" id="save-derivations">
<h3><a class="toc-backref" href="#id31">Save derivations</a><a class="headerlink" href="#save-derivations" title="Permalink to this headline">¶</a></h3>
<p>Saves the current derivations into a file.</p>
</div>
<div class="section" id="load-channel-selections">
<h3><a class="toc-backref" href="#id32">Load channel selections</a><a class="headerlink" href="#load-channel-selections" title="Permalink to this headline">¶</a></h3>
<p>This choice loads a new set of channel selections. The default
directory for the selections is $HOME/.mne. If this directory does
not exist, it will be created before bringing up the file selection
dialog to load the selections.</p>
</div>
<div class="section" id="save-channel-selections">
<span id="cacddcgf"></span><h3><a class="toc-backref" href="#id33">Save channel selections</a><a class="headerlink" href="#save-channel-selections" title="Permalink to this headline">¶</a></h3>
<p>This choice brings up a dialog to save the current channel
selections. This is particularly useful if the standard set of selections
has been modified as explained in <a class="reference internal" href="#caccjejd"><span class="std std-ref">Selection</span></a>. The default
directory for the selections is $HOME/.mne. If this directory does
not exist, it will be created before bringing up the file selection
dialog to save the selections. Note that all currently existing
selections will be saved, not just those added to the ones initially
loaded.</p>
</div>
<div class="section" id="quit">
<h3><a class="toc-backref" href="#id34">Quit</a><a class="headerlink" href="#quit" title="Permalink to this headline">¶</a></h3>
<p>Exits the program without questions asked.</p>
</div>
</div>
<div class="section" id="the-adjust-menu">
<h2><a class="toc-backref" href="#id35">The Adjust menu</a><a class="headerlink" href="#the-adjust-menu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="filter">
<span id="caccdbbg"></span><h3><a class="toc-backref" href="#id36">Filter</a><a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h3>
<p>Selecting Filter… from
the Adjust menu pops up the dialog
shown in <a class="reference internal" href="#cacceegi"><span class="std std-ref">The filter adjustment dialog.</span></a>.</p>
<div class="figure align-center" id="id6" style="width: 55%">
<span id="cacceegi"></span><a class="reference internal image-reference" href="../../_images/filter_dialog.png"><img alt="filter adjustment dialog" src="../../_images/filter_dialog.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">The filter adjustment dialog.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>The items in the dialog have the following functions:</p>
<p><strong>Highpass (Hz)</strong></p>
<blockquote>
<div><p>The half-amplitude point of the highpass filter. The width of the transition
from zero to one can be specified with the <code class="docutils literal notranslate"><span class="pre">--highpassw</span></code> command-line
option, see <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a>. Lowest feasible highpass value
is constrained by the length of the filter and sampling frequency.
You will be informed when you press OK or Apply if
the selected highpass could not be realized. The default value zero means
no highpass filter is applied in addition to the analog highpass
present in the data.</p>
</div></blockquote>
<p><strong>Lowpass (Hz)</strong></p>
<blockquote>
<div><p>The half-amplitude point of the lowpass filter.</p>
</div></blockquote>
<p><strong>Lowpass transition (Hz)</strong></p>
<blockquote>
<div><p>The width of the <span class="math notranslate nohighlight">\(\cos^2\)</span>-shaped transition
from one to zero, centered at the Lowpass value.</p>
</div></blockquote>
<p><strong>Filter active</strong></p>
<blockquote>
<div><p>Selects whether or not the filter is applied to the data.</p>
</div></blockquote>
<p>The filter is realized in the frequency domain and has a
zero phase shift. When a filter is in effect, the value of the first
sample in the file is subtracted from the data to correct for an
initial dc offset. This procedure also eliminates any filter artifacts
in the beginning of the data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The filter affects both the raw data and evoked-response    data loaded from files. However, the averages computed in mne_browse_raw and shown    in the topographical display are not refiltered if the filter is    changed after the average was computed.</p>
</div>
</div>
<div class="section" id="scales">
<span id="cacbehcd"></span><h3><a class="toc-backref" href="#id37">Scales</a><a class="headerlink" href="#scales" title="Permalink to this headline">¶</a></h3>
<p>Selecting Scales… from
the Adjust menu pops up the dialog
shown in <a class="reference internal" href="#cacbjgba"><span class="std std-ref">The Scales dialog.</span></a>.</p>
<div class="figure align-default" id="id7" style="width: 100%">
<span id="cacbjgba"></span><a class="reference internal image-reference" href="../../_images/scales_dialog1.png"><img alt="Scales dialog" src="../../_images/scales_dialog1.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">The Scales dialog.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The items in the dialog have the following functions:</p>
<p><strong>MEG (fT/cm)</strong></p>
<blockquote>
<div><p>Sets the scale for MEG planar gradiometer channels in fT/cm. All scale
values are defined from zero to maximum, <em>i.e.</em>,
the viewport where signals are plotted in have the limits ± &lt;<em>scale value</em>&gt; .</p>
</div></blockquote>
<p><strong>MEG axmult (cm)</strong></p>
<blockquote>
<div><p>The scale for MEG magnetometers and axial gradiometers is defined
by multiplying the gradiometer scale by this number, yielding units
of fT.</p>
</div></blockquote>
<p><strong>EEG</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>The scale for EEG channels in <span class="math notranslate nohighlight">\(\mu V\)</span>.</p>
</div></blockquote>
<p><strong>EOG</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>The scale for EOG channels in <span class="math notranslate nohighlight">\(\mu V\)</span>.</p>
</div></blockquote>
<p><strong>ECG (mV)</strong></p>
<blockquote>
<div><p>The scale for ECG channels in mV.</p>
</div></blockquote>
<p><strong>EMG (mV)</strong></p>
<blockquote>
<div><p>The scale for EMG channels in mV.</p>
</div></blockquote>
<p><strong>MISC (V)</strong></p>
<blockquote>
<div><p>The scale for MISC channels in V.</p>
</div></blockquote>
<p><strong>Time span (s)</strong></p>
<blockquote>
<div><p>The length of raw data displayed in the main window at a time.</p>
</div></blockquote>
<p><strong>Show stimulus markers</strong></p>
<blockquote>
<div><p>Draw vertical lines at time points where the digital trigger channel has
a transition from zero to a nonzero value.</p>
</div></blockquote>
<p><strong>Segment min. time (s)</strong></p>
<blockquote>
<div><p>It is possible to show data segments in the topographical (full
view) layout, see below. This parameter sets the starting time point,
relative to the selected time, to be displayed.</p>
</div></blockquote>
<p><strong>Segment max. time (s)</strong></p>
<blockquote>
<div><p>This parameter sets the ending time point, relative to the current time,
to be displayed in the topographical layout.</p>
</div></blockquote>
<p><strong>Show segments in full view</strong></p>
<blockquote>
<div><p>Switches on the display of data segments in the topographical layout.</p>
</div></blockquote>
<p><strong>Show segments in sample view</strong></p>
<blockquote>
<div><p>Switches on the display of data segments in a “sidebar” to
the right of the main display.</p>
</div></blockquote>
<p><strong>Show channel names</strong></p>
<blockquote>
<div><p>Show the names of the channels in the topographical displays.</p>
</div></blockquote>
<p><strong>Text size</strong></p>
<blockquote>
<div><p>Size of the channel number text as a fraction of the height of each viewport.</p>
</div></blockquote>
<p><strong>Show viewport frames</strong></p>
<blockquote>
<div><p>Show the boundaries of the viewports in the topographical displays.</p>
</div></blockquote>
<p><strong>Show zeroline and zerolevel</strong></p>
<blockquote>
<div><p>Show the zero level, <em>i.e.</em>, the baseline level
in the topographical displays. In addition, the zero time point
is indicated in the average views if it falls to the time range, <em>i.e.</em>,
if the minimum of the time scale is negative and the maximum is
positive.</p>
</div></blockquote>
<p><strong>Scale magnification for averages</strong></p>
<blockquote>
<div><p>For average displays, the scales are made more sensitive by this
factor.</p>
</div></blockquote>
<p><strong>Average display baseline min (ms)</strong></p>
<blockquote>
<div><p>Sets the lower time limit for the average display baseline. This
setting does not affect the averages stored.</p>
</div></blockquote>
<p><strong>Average display baseline max (ms)</strong></p>
<blockquote>
<div><p>Sets the upper time limit for the average display baseline. This
setting does not affect the averages stored.</p>
</div></blockquote>
<p><strong>Use average display baseline</strong></p>
<blockquote>
<div><p>Switches the application of a baseline to the displayed averages
on and off.</p>
</div></blockquote>
<p><strong>Average time range min (ms)</strong></p>
<blockquote>
<div><p>Sets the minimum time for the average display. This setting is inactive
if Autoscale time range is on.</p>
</div></blockquote>
<p><strong>Average time range max (ms)</strong></p>
<blockquote>
<div><p>Sets the maximum time for the average data display. This setting
is inactive if Autoscale time range is
on.</p>
</div></blockquote>
<p><strong>Autoscale time range</strong></p>
<blockquote>
<div><p>Set the average display time range automatically to be long enough to
accommodate all data.</p>
</div></blockquote>
</div>
<div class="section" id="colors">
<h3><a class="toc-backref" href="#id38">Colors</a><a class="headerlink" href="#colors" title="Permalink to this headline">¶</a></h3>
<p>Shows a dialog which allows changes to the default colors
of various display items.</p>
</div>
<div class="section" id="derivations">
<span id="cacjiehi"></span><h3><a class="toc-backref" href="#id39">Derivations</a><a class="headerlink" href="#derivations" title="Permalink to this headline">¶</a></h3>
<p>Brings up the interactive derivations editor. This editor
can be used to add or modify derived channels, <em>i.e.</em>,
linear combinations of signals actually recorded. Channel derivations
can be also created and modified using the mne_make_derivations tool,
see <a class="reference internal" href="../c_reference.html#mne-make-derivations"><span class="std std-ref">mne_make_derivations</span></a>. The interactive editor contains two main
areas:</p>
<ul class="simple">
<li><p>Interactive tools for specifying a channel
linear combination. This tool is limited to combining up to five
channels in each of the derivations. Clicking Add after
defining the name of the new derivation, the weights of the component
channels and their names, adds the corresponding arithmetic expression
to the text area.</p></li>
<li><p>Text area which contains the currently defined derivations
as arithmetic expressions in a format identical to that used by mne_make_derivations .
These expressions can be manually edited before accepting the new
set of derivations. Initially, the text area will contain the derivations
already defined.</p></li>
</ul>
<p>The Define button interprets
the arithmetic expressions in the text area as new derivations and
closes the dialog. The Cancel button
closes the dialog without any change in the derivations.</p>
<p>Recommended workflow for defining derived EEG channels and
associated selections interactively involves the following steps:</p>
<ul class="simple">
<li><p>If desired, EEG channels can be relabeled
with descriptive names using the mne_rename_channels utility,
see <a class="reference internal" href="../c_reference.html#mne-rename-channels"><span class="std std-ref">mne_rename_channels</span></a>. It is strongly recommended that you
keep a copy of the channel alias file used by mne_rename_channels .
If necessary, you can then easily return to the original channel
names by running mne_rename_channels again
with the <code class="docutils literal notranslate"><span class="pre">--revert</span></code> option.</p></li>
<li><p>Load the data file into mne_browse_raw and
use the interactive derivations editor to create the desired derived
channels. These are usually differences between the signals in two
EEG electrodes.</p></li>
<li><p>Save the derivations from the file menu.</p></li>
<li><p>If desired, move the derivations file to the standard location
(<code class="docutils literal notranslate"><span class="pre">$HOME/.mne/mne_browse_raw-deriv.fif</span></code> ).</p></li>
<li><p>Create new channel selections employing the original and derived channels
using the channel selection tool described in <a class="reference internal" href="#caccjejd"><span class="std std-ref">Selection</span></a>.</p></li>
<li><p>Save the new channel selections from the file menu.</p></li>
<li><p>If desired, change the order of the channels in the selections
in the selection file by editing it in a text editor and move it
to the standard location <code class="docutils literal notranslate"><span class="pre">$HOME/.mne/mne_browse_raw.sel</span></code> .</p></li>
</ul>
</div>
<div class="section" id="selection">
<span id="caccjejd"></span><h3><a class="toc-backref" href="#id40">Selection</a><a class="headerlink" href="#selection" title="Permalink to this headline">¶</a></h3>
<p>Brings up a dialog to select channels to be shown in the
main raw data display. This dialog also allows modification of the
set of channel selections as described below.</p>
<p>By default, the available selections are defined by the file <code class="docutils literal notranslate"><span class="pre">$MNE_ROOT/share/mne/mne_browse_raw/mne_browse_raw.sel</span></code> .
This default channel selection file can be modified by copying the
file into <code class="docutils literal notranslate"><span class="pre">$HOME/.mne/mne_browse_raw.sel</span></code> . The format
of this text file should be self explanatory.</p>
<div class="figure align-default" id="id8">
<span id="cacihffh"></span><img alt="channel selection dialog" src="../../_images/channel_selection.png" />
<p class="caption"><span class="caption-text">The channel selection dialog.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>The channel selection dialog is shown in <a class="reference internal" href="#cacihffh"><span class="std std-ref">The channel selection dialog.</span></a>.
The number of items in the selection list depends on the contents
of your selection file. If the list has the keyboard focus you can
easily move from one selection to another with the up and down arrow
keys.</p>
<p>The two buttons below the channel selection buttons facilitate
the modification of the selections:</p>
<p><strong>Add…</strong></p>
<blockquote>
<div><p>Brings up the selection dialog shown in <a class="reference internal" href="#cacfeced"><span class="std std-ref">Dialog to create a new channel selection.</span></a> to
create new channel selections.</p>
</div></blockquote>
<p><strong>Omit current</strong></p>
<blockquote>
<div><p>Delete the current channel selection. Deletion only affects the
selections in the memory of the program. To save the changes permanently
into a file, use Save channel selections… in
the File menu, see <a class="reference internal" href="#cacddcgf"><span class="std std-ref">Save channel selections</span></a>.</p>
</div></blockquote>
<div class="figure align-default" id="id9">
<span id="cacfeced"></span><img alt="Dialog to create a new channel selection" src="../../_images/new_selection.png" />
<p class="caption"><span class="caption-text">Dialog to create a new channel selection.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>The components of the selection creation dialog shown in <a class="reference internal" href="#cacfeced"><span class="std std-ref">Dialog to create a new channel selection.</span></a> have the following functions:</p>
<p><strong>List of channel names</strong></p>
<blockquote>
<div><p>The channels selected from this list will be included in the new channel
selection. A selection can be extended with the control key. A range
of channels can be selected with the shift key. The list contains
both the original channels actually present in the file and the names
of the channels in currently loaded derivation data, see <a class="reference internal" href="#cacfhafh"><span class="std std-ref">Load derivations</span></a>.</p>
</div></blockquote>
<p><strong>Regexp:</strong></p>
<blockquote>
<div><p>This provides another way to select channels. By entering here a regular
expression as defined in IEEE Standard 1003.2 (POSIX.2), all channels
matching it will be selected and added to the present selection.
An empty expression deselects all items in the channel list. Some
useful regular expressions are listed in <a class="reference internal" href="#cachchdj"><span class="std std-ref">Examples of regular expressions for channel selections</span></a>.
In the present version, regular matching does not look at the derived
channels.</p>
</div></blockquote>
<p><strong>Name:</strong></p>
<blockquote>
<div><p>This text field specifies the name of the new selection.</p>
</div></blockquote>
<p><strong>Select</strong></p>
<blockquote>
<div><p>Select the channels specified by the regular expression. The same effect
can be achieved by entering return in the Regexp: .</p>
</div></blockquote>
<p><strong>Add</strong></p>
<blockquote>
<div><p>Add a new channel selection which contains the channels selected from
the channel name list. The name of the selection is specified with
the Name: text field.</p>
</div></blockquote>
<span id="cachchdj"></span><table class="docutils align-default" id="id10">
<caption><span class="caption-text">Examples of regular expressions for channel selections</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Regular expression</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MEG</span></code></p></td>
<td><p>Selects all MEG channels.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EEG</span></code></p></td>
<td><p>Selects all EEG channels.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MEG.*1$</span></code></p></td>
<td><p>Selects all MEG channels whose names end
with the number 1, <em>i.e.</em>, all magnetometer
channels.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MEG.*[2,3]$</span></code></p></td>
<td><p>Selects all MEG gradiometer channels.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EEG|STI</span> <span class="pre">014</span></code></p></td>
<td><p>Selects all EEG channels and stimulus
channel STI 014.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">^M</span></code></p></td>
<td><p>Selects all channels whose names begin with
the letter M.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The interactive tool for creating the channel    selections does not allow you to change the order of the selected    channels from that given by the list of channels. However, the ordering    can be easily changed by manually editing the channel selection    file in a text editor.</p>
</div>
</div>
<div class="section" id="full-view-layout">
<span id="cacfggcf"></span><h3><a class="toc-backref" href="#id41">Full view layout</a><a class="headerlink" href="#full-view-layout" title="Permalink to this headline">¶</a></h3>
<p>Shows a selection of available layouts for the topographical
views (full view and average display). The system-wide layout files
reside in <code class="docutils literal notranslate"><span class="pre">$MNE_ROOT/share/mne/mne_analyze/lout</span></code> . In
addition any layout files residing in <code class="docutils literal notranslate"><span class="pre">$HOME/.mne/lout</span></code> are
listed. The default layout is Vectorview-grad. If there is a layout
file in the user’s private layout directory ending with <code class="docutils literal notranslate"><span class="pre">-default.lout</span></code> ,
that layout will be used as the default instead. The Default button
returns to the default layout.</p>
<p>The format of the layout files is:</p>
<blockquote>
<div><div class="line-block">
<div class="line">&lt;<em>plot area limits</em>&gt;</div>
<div class="line">&lt;<em>viewport definition #1</em>&gt;</div>
<div class="line">…</div>
<div class="line">&lt;<em>viewport definition #N</em>&gt;</div>
</div>
</div></blockquote>
<p>The &lt;<em>plot area limits</em>&gt; define
the size of the plot area (<span class="math notranslate nohighlight">\(x_{min}\ x_{max}\ y_{min}\ y_{max}\)</span>) which should accommodate all view ports. When the layout is used, the
plot area will preserve its aspect ratio; if the plot window has
a different aspect ratio, there will be empty space on the sides.</p>
<p>The viewports define the locations of the individual channels
in the plot. Each viewport definition consists of</p>
<blockquote>
<div><p>&lt;<em>number</em>&gt; <span class="math notranslate nohighlight">\(x_0\ y_0\)</span> &lt;<em>width</em>&gt; &lt;<em>height</em>&gt; &lt;<em>name</em>&gt; [: &lt;<em>name</em>&gt; ] …</p>
</div></blockquote>
<p>where number is a viewport number (not used by the MNE software), <span class="math notranslate nohighlight">\(x_0\)</span> and <span class="math notranslate nohighlight">\(y_0\)</span> are
the coordinates of the lower-left corner of the viewport, &lt;<em>width</em>&gt; and &lt;<em>height</em>&gt; are
the viewport dimensions, and &lt;<em>name</em>&gt; is
a name of a channel. Multiple channel names can be specified by
separating them with a colon.</p>
<p>When a measurement channel name is matched to a layout channel
name, all spaces are removed from the channel names and the both
the layout channel name and the data channel name are converted
to lower case. In addition anything including and after a hyphen
(-) is omitted. The latter convention facilitates using CTF MEG
system data, which has the serial number of the system appended
to the channel name with a dash. Removal of the spaces is important
for the Neuromag Vectorview data because newer systems do not have
spaces in the channel names like the original Vectorview systems
did.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The mne_make_eeg_layout utility    can be employed to create a layout file matching the positioning    of EEG electrodes, see <a class="reference internal" href="../c_reference.html#mne-make-eeg-layout"><span class="std std-ref">mne_make_eeg_layout</span></a>.</p>
</div>
</div>
<div class="section" id="projection">
<span id="cacddidh"></span><h3><a class="toc-backref" href="#id42">Projection</a><a class="headerlink" href="#projection" title="Permalink to this headline">¶</a></h3>
<p>Lists the currently available signal-space projection (SSP)
vectors and allows the activation and deactivation of items. For
more information on SSP, see <a class="reference internal" href="#cacchabi"><span class="std std-ref">The Signal-Space Projection (SSP) method</span></a>.</p>
</div>
<div class="section" id="compensation">
<h3><a class="toc-backref" href="#id43">Compensation</a><a class="headerlink" href="#compensation" title="Permalink to this headline">¶</a></h3>
<p>Brings up a dialog to select software gradient compensation.
This overrides the choice made at the open time. For details, see <a class="reference internal" href="#cacdchaj"><span class="std std-ref">Open</span></a>, above.</p>
</div>
<div class="section" id="averaging-preferences">
<span id="cacbiahd"></span><h3><a class="toc-backref" href="#id44">Averaging preferences</a><a class="headerlink" href="#averaging-preferences" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id11" style="width: 35%">
<span id="caccffah"></span><a class="reference internal image-reference" href="../../_images/average_pref.png"><img alt="Averaging preferences" src="../../_images/average_pref.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Averaging preferences.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<p>Selecting Averaging preferences… from
the Adjust menu pops up the dialog
shown in <a class="reference internal" href="#caccffah"><span class="std std-ref">Averaging preferences.</span></a>. These settings apply only to the
simple averages calculated with help of tools residing just below
the main raw data display, see <a class="reference internal" href="#cacdfgae"><span class="std std-ref">The tool bar</span></a>. These settings
are also applied when a covariance matrix is computed to create
a SSP operator as described in <a class="reference internal" href="#caceahei"><span class="std std-ref">Creating a new SSP operator</span></a> and in the
computation of a covariance matrix from raw data, see <a class="reference internal" href="#babjeigj"><span class="std std-ref">Estimation of a covariance matrix from raw data</span></a>.</p>
<p>The items in the dialog have the following functions:</p>
<p><strong>Starting time (ms)</strong></p>
<blockquote>
<div><p>Beginning time of the epoch to be averaged (relative to the trigger).</p>
</div></blockquote>
<p><strong>Ending time (ms)</strong></p>
<blockquote>
<div><p>Ending time of the epoch to be averaged.</p>
</div></blockquote>
<p><strong>Ignore around stimulus (ms)</strong></p>
<blockquote>
<div><p>Ignore this many milliseconds on both sides of the trigger when considering
the epoch. This parameter is useful for ignoring large stimulus
artifacts, <em>e.g.</em>, from electrical somatosensory
stimulation.</p>
</div></blockquote>
<p><strong>MEG grad rejection (fT/cm)</strong></p>
<blockquote>
<div><p>Rejection criterion for MEG planar gradiometers. If the peak-to-peak
value of any planar gradiometer epoch exceed this value, it will
be omitted. A negative value turns off rejection for a particular channel
type.</p>
</div></blockquote>
<p><strong>MEG mag rejection (fT)</strong></p>
<blockquote>
<div><p>Rejection criterion for MEG magnetometers and axial gradiometers.</p>
</div></blockquote>
<p><strong>EEG rejection</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>Rejection criterion for EEG channels.</p>
</div></blockquote>
<p><strong>EOG rejection</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>Rejection criterion for EOG channels.</p>
</div></blockquote>
<p><strong>ECG rejection (mV)</strong></p>
<blockquote>
<div><p>Rejection criterion for ECG channels.</p>
</div></blockquote>
<p><strong>MEG grad no signal (fT/cm)</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG planar gradiometers. The peak-to-peak
value of all planar gradiometer signals must exceed this value,
for the epoch to be included. This criterion allows rejection of data
with saturated or otherwise dysfunctional channels.</p>
</div></blockquote>
<p><strong>MEG mag no signal (fT)</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG magnetometers and axial gradiometers.</p>
</div></blockquote>
<p><strong>EEG no signal</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>Signal detection criterion for EEG channels.</p>
</div></blockquote>
<p><strong>EOG no signal</strong> (<span class="math notranslate nohighlight">\(\mu V\)</span>)</p>
<blockquote>
<div><p>Signal detection criterion for EOG channels.</p>
</div></blockquote>
<p><strong>ECG no signal (mV)</strong></p>
<blockquote>
<div><p>Signal detection criterion for ECG channels.</p>
</div></blockquote>
<p><strong>Fix trigger skew</strong></p>
<blockquote>
<div><p>This option has the same effect as the FixSkew parameter
in averaging description files, see <a class="reference internal" href="#babihfbi"><span class="std std-ref">Common parameters</span></a>.</p>
</div></blockquote>
<p><strong>Trace color</strong></p>
<blockquote>
<div><p>The color assigned for the averaged traces in the display can be adjusted
by pressing this button.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="the-process-menu">
<h2><a class="toc-backref" href="#id45">The Process menu</a><a class="headerlink" href="#the-process-menu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="averaging">
<h3><a class="toc-backref" href="#id46">Averaging</a><a class="headerlink" href="#averaging" title="Permalink to this headline">¶</a></h3>
<p>The Average… menu item
pops up a file selection dialog to access a description file for
batch-mode averaging. The structure of these files is described
in <a class="reference internal" href="#cacbbdgc"><span class="std std-ref">Description files for off-line averaging</span></a>. All parameters for the averaging are
taken from the description file, <em>i.e.</em>, the
parameters set in the averaging preferences dialog (<a class="reference internal" href="#cacbiahd"><span class="std std-ref">Averaging preferences</span></a>) do not effect the result.</p>
</div>
<div class="section" id="estimation-of-a-covariance-matrix">
<h3><a class="toc-backref" href="#id47">Estimation of a covariance matrix</a><a class="headerlink" href="#estimation-of-a-covariance-matrix" title="Permalink to this headline">¶</a></h3>
<p>The Compute covariance… menu
item pops up a file selection dialog to access a description file
which specifies the options for the estimation of a covariance matrix.
The structure of these files is described in <a class="reference internal" href="#cacebacg"><span class="std std-ref">Description files for covariance matrix estimation</span></a>.</p>
</div>
<div class="section" id="estimation-of-a-covariance-matrix-from-raw-data">
<span id="babjeigj"></span><h3><a class="toc-backref" href="#id48">Estimation of a covariance matrix from raw data</a><a class="headerlink" href="#estimation-of-a-covariance-matrix-from-raw-data" title="Permalink to this headline">¶</a></h3>
<p>The Compute raw data covariance… menu
item pops up a dialog which specifies a time range for raw data
covariance matrix estimation and the file to hold the result. If
a covariance matrix is computed in this way, the rejection parameters
specified in averaging preferences are in effect. For description
of the rejection parameters, see <a class="reference internal" href="#cacbiahd"><span class="std std-ref">Averaging preferences</span></a>. The time
range can be also selected interactively from the main raw data
display by doing a range selection with shift left button drag.</p>
</div>
<div class="section" id="creating-a-new-ssp-operator">
<span id="caceahei"></span><h3><a class="toc-backref" href="#id49">Creating a new SSP operator</a><a class="headerlink" href="#creating-a-new-ssp-operator" title="Permalink to this headline">¶</a></h3>
<p>The Create a new SSP operator… menu
choice computes a new SSP operator as discussed in <a class="reference internal" href="../preprocessing/ssp.html#babffchf"><span class="std std-ref">Estimation of the noise subspace</span></a>.</p>
<div class="figure align-default" id="id12">
<span id="babhaghf"></span><img alt="Time range specification for SSP operator calculation" src="../../_images/new_ssp.png" />
<p class="caption"><span class="caption-text">Time range specification for SSP operator calculation</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>When Create a new SSP operator… selected,
a window shown in <a class="reference internal" href="#babhaghf"><span class="std std-ref">Time range specification for SSP operator calculation</span></a> is popped up. It allows
the specification of a time range to be employed in the calculation
of a raw data covariance matrix. The time range can be also selected
interactively from the main raw data display by doing a range selection
with shift left button drag. Normally, you should use empty room
data for this computation. For the estimation of the covariance
matrix any existing projection will be temporarily switched off. Remember
to inspect your data for bad channels and select an appropriate filter
setting before creating a new SSP operator. The artifact rejection parameters
specified averaging preferences will be applied in the covariance
matrix calculation, see <a class="reference internal" href="#cacbiahd"><span class="std std-ref">Averaging preferences</span></a>.</p>
<p>Instead of using continuous raw data, it is also possible
to employ short epochs around triggers (events) in the calculation
of the new SSP operator by specifying a positive event number in
the time specification dialog. This option is very useful, <em>e.g.</em>,
to remove MCG/ECG artifacts from the data to facilitate detection
of epileptic spikes:</p>
<ul class="simple">
<li><p>Select left or right temporal channels
to the display.</p></li>
<li><p>Mark several peaks of the MCG signal in the data: click on
the first one and control click on the subsequent ones to extend
the selection.</p></li>
<li><p>Select an event number next to the Picked to button in the tool bar, see <a class="reference internal" href="#cacdfgae"><span class="std std-ref">The tool bar</span></a>,
and click Picked to . As a result
the lines marking the events will change color (by default from
green to blue) indicating transition to user-created events.</p></li>
<li><p>Specify an epoch time range to be employed and the event number selected
in the previous step for the SSP operator calculation.</p></li>
</ul>
<p>Once the parameters are set, click Compute to
calculate a covariance matrix according to you your specifications.
Once the covariance matrix is ready, the parts corresponding to
magnetometer or axial gradiometer, planar gradiometer, and EEG channels
are separated and the corresponding eigenvectors and eigenvalues
are computed. Once complete, a projection selector with eight magnetometer
eigenvectors, five planar gradiometer eigenvectors, three EEG eigenvectors,
as well as the existing projection items is displayed.</p>
<p>Using the projection selector, you can experiment which vectors
have a significant effect on the noise level of the data. You should
strive for using a minimal number of vectors. When the selection
is complete, you can click Accept to
introduce this selection of vectors as the new projection operator. Discard abandons
the set of calculated vectors. Whenever EEG channels are present
in the data, a projection item corresponding to the average EEG
reference is automatically added when a new projection operator
is introduced. More information on the SSP method can be found in <a class="reference internal" href="#cacchabi"><span class="std std-ref">The Signal-Space Projection (SSP) method</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The new projection data created in mne_browse_raw is    not automatically copied to the data file. You need to create a    standalone projection file from File/Save projection… to    save the new projection data and load it manually after the data    file has been loaded if you want to include in any subsequent analysis.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The command-line options for mne_process_raw allow    calculation of the SSP operator from continuous data in the batch    mode, see <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="the-windows-menu">
<span id="babdjggj"></span><h2><a class="toc-backref" href="#id50">The Windows menu</a><a class="headerlink" href="#the-windows-menu" title="Permalink to this headline">¶</a></h2>
<p>The Windows menu contains
the following items:</p>
<p><strong>Show full view…</strong></p>
<blockquote>
<div><p>Brings up the topographical display of epochs extracted from the raw
data, see <a class="reference internal" href="#cacdadba"><span class="std std-ref">Topographical data displays</span></a>.</p>
</div></blockquote>
<p><strong>Show averages…</strong></p>
<blockquote>
<div><p>Brings up the topographical display showing averaged data. These data
may include data averaged in the current mne_browse_raw session
or those loaded from files, see <a class="reference internal" href="#babjejdg"><span class="std std-ref">Open evoked</span></a>.</p>
</div></blockquote>
<p><strong>Show event list…</strong></p>
<blockquote>
<div><p>Brings up a window containing a list of the currently defined events. Clicking
on an event in the list, the event is selected, a green cursor appears
at the event, and the event is brought to the middle of the raw
data display. The event list displayed can be also restricted to user-defined
events (annotations) and user-defined events can be deleted. For
further information, see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div></blockquote>
<p><strong>Show annotator…</strong></p>
<blockquote>
<div><p>Brings up a window which allows adding new events to the data with
annotations or comments. For details, see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div></blockquote>
<p><strong>Manage averages…</strong></p>
<blockquote>
<div><p>Brings up a dialog to control the averaged data sets, see <a class="reference internal" href="#cacjfadf"><span class="std std-ref">Managing averages</span></a>.</p>
</div></blockquote>
<p><strong>Start mne_analyze…</strong></p>
<blockquote>
<div><p>Start interaction between mne_browse_raw and mne_analyze .
For details, see <a class="reference internal" href="#cacghegc"><span class="std std-ref">Interacting with mne_analyze</span></a>.</p>
</div></blockquote>
<p><strong>Show head position</strong></p>
<blockquote>
<div><p>Starts mne_analyze in the head position visualization mode and shows
the relative position of the MEG sensor array and the head using
the data in the presently open raw data file. For more details on
the head position visualization mode, see Section 7.21.**what?? does not exist!**</p>
</div></blockquote>
<p><strong>Quit mne_analyze…</strong></p>
<blockquote>
<div><p>Quits the mne_analyze program
started with Start mne_analyze…</p>
</div></blockquote>
</div>
<div class="section" id="the-help-menu">
<h2><a class="toc-backref" href="#id51">The Help menu</a><a class="headerlink" href="#the-help-menu" title="Permalink to this headline">¶</a></h2>
<p>The contents of the Help menu
is shown in <a class="reference internal" href="#help-menu-browse"><span class="std std-ref">The Help menu.</span></a>:</p>
<div class="figure align-default" id="id13">
<span id="help-menu-browse"></span><img alt="Help menu" src="../../_images/help_menu1.png" />
<p class="caption"><span class="caption-text">The Help menu.</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p><strong>On version…</strong></p>
<blockquote>
<div><p>Displays the version and compilation date of the program.</p>
</div></blockquote>
<p><strong>On license…</strong></p>
<blockquote>
<div><p>Displays the license information.</p>
</div></blockquote>
<p><strong>About current data…</strong></p>
<blockquote>
<div><p>Displays essential information about the currently loaded data set.</p>
</div></blockquote>
<p><strong>Why the beep?</strong></p>
<blockquote>
<div><p>In some simple error situations, mne_browse_raw does
not pop up an error dialog but refuses the action and rings the
bell. The reason for this can be displayed through this help menu
item.</p>
</div></blockquote>
</div>
<div class="section" id="the-raw-data-display">
<h2><a class="toc-backref" href="#id52">The raw data display</a><a class="headerlink" href="#the-raw-data-display" title="Permalink to this headline">¶</a></h2>
<p>The main data displays shows a section of the raw data in
a strip-chart recorder format. The names of the channels displayed
are shown on the left. The selection of channels is controlled from
the selection dialog, see <a class="reference internal" href="#caccjejd"><span class="std std-ref">Selection</span></a>. The length of
the data section displayed is controlled from the scales dialog
(<a class="reference internal" href="#cacbehcd"><span class="std std-ref">Scales</span></a>) and the filtering from the filter dialog (<a class="reference internal" href="#caccdbbg"><span class="std std-ref">Filter</span></a>). A signal-space projection can be applied
to the data by loading a projection operator (<a class="reference internal" href="#cacdfjda"><span class="std std-ref">Read projection</span></a>).
The selection of the projection operator items is controlled from
the projection dialog described in <a class="reference internal" href="#cacddidh"><span class="std std-ref">Projection</span></a>.</p>
<p>The control and browsing functions of the main data display
are:</p>
<p><strong>Selection of bad channels</strong></p>
<blockquote>
<div><p>If you click on a channel name the corresponding channel is marked bad
or reinstated as an acceptable one. A channel marked bad is not considered
in the artifact rejection procedures in averaging and it is omitted
from the signal-space projection operations.</p>
</div></blockquote>
<p><strong>Browsing</strong></p>
<blockquote>
<div><p>Browsing through the data. The section of data displayed can be selected
from the scroll bar at the bottom of the display. Additional browsing
functionality will be discussed n In addition, if the strip-chart
display has the keyboard focus, you can scroll back and forth with
the page up and page down keys.</p>
</div></blockquote>
<p><strong>Selection of time points</strong></p>
<blockquote>
<div><p>When you click on the data with the left button, a vertical marker appears.
If Show segments in full view and/or Show segments in sample view is active in the scales
dialog (see <a class="reference internal" href="#cacbehcd"><span class="std std-ref">Scales</span></a>), a display of an epoch of data
specified in the scales dialog will appear. For more information
on full view, see <a class="reference internal" href="#cacdadba"><span class="std std-ref">Topographical data displays</span></a>. Multiple time points can
be selected by holding the control key down when clicking. If multiple
time points are selected several samples will be shown in the sample
and/or full view, aligned at the picked time point. The tool bar
offers functions to operate on the selected time points, see <a class="reference internal" href="#cacdfgae"><span class="std std-ref">The tool bar</span></a>.</p>
</div></blockquote>
<p><strong>Range selection</strong></p>
<blockquote>
<div><p>Range selection. If you drag on the signals with the left mouse
button and the shift key down, a range of times will be selected
and displayed in the sample and/or full view. Note: All previous
selections are cleared by this operation.</p>
</div></blockquote>
<p><strong>Saving a copy of the display</strong></p>
<blockquote>
<div><p>The right mouse button invokes a popup menu which allows saving of
the display in various formats. Best quality is achieved with the Illustrator
format. This format has the benefit that it is object oriented and
can be edited in Adobe Illustrator.</p>
</div></blockquote>
<p><strong>Drag and drop</strong></p>
<blockquote>
<div><p>Graphics can be moved to one of the Elekta-Neuromag report composer
(cliplab ) view areas with the
middle mouse button.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When selecting bad channels, switch the signal-space    projection off from the projection dialog. Otherwise bad channels    may not be easily recognizable.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The cliplab drag-and-drop    functionality requires that you have the proprietary Elekta-Neuromag    analysis software installed. mne_browse_raw is    compatible with cliplab versions    1.2.13 and later.</p>
</div>
<div class="section" id="browsing-data">
<span id="babidadb"></span><h3><a class="toc-backref" href="#id53">Browsing data</a><a class="headerlink" href="#browsing-data" title="Permalink to this headline">¶</a></h3>
<p>If the strip-chart display has
the input focus (click on it, if you are unsure) the keyboard and
mouse can be used to browse the data as follows:</p>
<p><strong>Up and down arrow keys</strong></p>
<blockquote>
<div><p>Activate the previous or next selection in the selection list.</p>
</div></blockquote>
<p><strong>Left and right arrow keys</strong></p>
<blockquote>
<div><p>If a single time point is selected (green line), move the time point forward
and backward by <span class="math notranslate nohighlight">\(\pm 1\)</span> ms. If the shift
key is down, the time point is moved by <span class="math notranslate nohighlight">\(\pm 10\)</span> ms.
If the control key is down (with or without shift), the time point
is moved by <span class="math notranslate nohighlight">\(\pm 100\)</span> ms. If mne_browse_raw is
controlling mne_analyze (see <a class="reference internal" href="#cacghegc"><span class="std std-ref">Interacting with mne_analyze</span></a>), the mne_analyze displays
will be updated accordingly. If the picked time point falls outside
the currently displayed section of data, the display will be automatically
scrolled backwards or forwards as needed.</p>
</div></blockquote>
<p><strong>Rotate the mouse wheel or rotate the trackball up/down</strong></p>
<blockquote>
<div><p>Activate the previous or next selection in the selection list.</p>
</div></blockquote>
<p><strong>Rotate the trackball left/right or rotate the wheel with shift down</strong></p>
<blockquote>
<div><p>Scroll backward or forward in the data by one screen. With Alt key (Command or Apple key
in the Mac keyboard), the amount of scrolling will be <span class="math notranslate nohighlight">\(1\)</span> s instead
of the length of one screen. If shift key is held down with the
trackball, both left/right and up/down movements scroll the data
in time.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The trackball and mouse wheel functionality    is dependent on your X server settings. On Mac OSX these settings    are normally correct by default but on a LINUX system some adjustments    to the X server settings maybe necessary. Consult your system administrator    or Google for details.</p>
</div>
</div>
</div>
<div class="section" id="events-and-annotations">
<span id="babdfaha"></span><h2><a class="toc-backref" href="#id54">Events and annotations</a><a class="headerlink" href="#events-and-annotations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="babjgedf">
<span id="id1"></span><h3><a class="toc-backref" href="#id55">Overview</a><a class="headerlink" href="#babjgedf" title="Permalink to this headline">¶</a></h3>
<p>In mne_browse_raw and mne_process_raw <em>events</em> mark
interesting time points in the data. When a raw data file is opened,
a standard event file is consulted for the list of events. If this
file is not present, the digital trigger channel, defined by the –digtrig option
or the <code class="docutils literal notranslate"><span class="pre">MNE_TRIGGER_CH_NAME</span></code> environment variable is
scanned for events. For more information, see the command-line references
for <a class="reference internal" href="../c_reference.html#mne-browse-raw"><span class="std std-ref">mne_browse_raw</span></a> and <a class="reference internal" href="../c_reference.html#mne-process-raw"><span class="std std-ref">mne_process_raw</span></a>.</p>
<p>In addition to the events detected on the trigger channel,
it is possible to associate user-defined events to the data, either
by marking data points interactively as described in <a class="reference internal" href="#babciggh"><span class="std std-ref">Defining annotated events</span></a> or by loading event data from files, see <a class="reference internal" href="#babdgbhi"><span class="std std-ref">Loading and saving event files</span></a>. Especially if there is a comment associated
with a user-defined event, we will sometimes call it an <em>annotation</em>.</p>
<p>If a data files has annotations (user-defined events) associated
with it in mne_browse_raw , information
about them is automatically saved to an annotation file when a data file is closed, <em>i.e.</em>,
when you quit mne_browse_raw or
load a new data file. This annotation file is called &lt;<em>raw data file name without fif extension</em>&gt; <code class="docutils literal notranslate"><span class="pre">-annot.fif</span></code> and
will be stored in the same directory as the raw data file. Therefore,
write permission to this directory is required to save the annotation
file.</p>
<p>Both the events defined by the trigger channel and the user-defined
events have three properties:</p>
<ul class="simple">
<li><p>The <em>time</em> when the
event occurred.</p></li>
<li><p>The <em>value</em> on the trigger channel just
before the change and now. For user-defined events the value before
is always zero and the current value is user defined and does not
necessarily reflect a change on the trigger channel. The trigger
channel events may also indicate changes between two non-zero values
and from a non-zero to zero. The event list described in <a class="reference internal" href="#babfdicc"><span class="std std-ref">The event list</span></a> shows only transitions from zero to a non-zero
value. Similarly, the Jump to item
in the tool bar, described in <a class="reference internal" href="#cacdfgae"><span class="std std-ref">The tool bar</span></a>, only detects
transitions from zero to a nonzero value.</p></li>
<li><p>An optional <em>comment</em> text, which is especially
helpful in associating user-defined events with real-world activity, <em>e.g.</em>,
the subject closing or opening his/her eyes or an epileptic patient
showing indications of a seizure.</p></li>
</ul>
</div>
<div class="section" id="the-event-list">
<span id="babfdicc"></span><h3><a class="toc-backref" href="#id56">The event list</a><a class="headerlink" href="#the-event-list" title="Permalink to this headline">¶</a></h3>
<p>The Windows/Show event list… menu
choice shows a window containing a list of currently defined events.
The list can be restricted to user-defined events by checking User-defined events only . When an event is selected from the
list, the main display jumps to the corresponding time. If a user-defined
event is selected, it can be deleted with the Delete a user-defined event button.</p>
</div>
<div class="section" id="loading-and-saving-event-files">
<span id="babdgbhi"></span><h3><a class="toc-backref" href="#id57">Loading and saving event files</a><a class="headerlink" href="#loading-and-saving-event-files" title="Permalink to this headline">¶</a></h3>
<p>Using the Load/Save events choices in the file menu, events
can be saved in text and fif formats, see <a class="reference internal" href="#cacbcegc"><span class="std std-ref">Event files</span></a>,
below. The loading dialogs have the following options:</p>
<p><strong>Match comment with</strong></p>
<blockquote>
<div><p>Only those events which will contain comments and in which the comment
matches the entered text are loaded. This filtering option is useful, <em>e.g.</em>,
in loading averaging or covariance matrix computation log files,
see <a class="reference internal" href="#babihfbi"><span class="std std-ref">Common parameters</span></a> and <a class="reference internal" href="#babcgeje"><span class="std std-ref">Common parameters</span></a>.
If the word <em>omit</em> is entered as the filter,
only events corresponding to discarded epochs are loaded and the
reason for rejection can be investigated in detail.</p>
</div></blockquote>
<p><strong>Add as user events</strong></p>
<blockquote>
<div><p>Add the events as if they were user-defined events. As a result,
the annotation file saved next time mne_browse_raw closes
this raw file will contain these events.</p>
</div></blockquote>
<p><strong>Keep existing events</strong></p>
<blockquote>
<div><p>By default, the events loaded will replace the currently defined
ones. With this option checked, the loaded event will be merged
with the currently existing ones.</p>
</div></blockquote>
<p>The event saving dialogs have the
following options controlling the data saved:</p>
<p><strong>Save events read from the data file</strong></p>
<blockquote>
<div><p>Save only those event which are not designated as user defined. These
are typically the events corresponding to changes in the digital
trigger channel. Another possible source for these events is an event
file manually loaded <em>without</em> the Add as user events option.</p>
</div></blockquote>
<p><strong>Save events created here</strong></p>
<blockquote>
<div><p>Save the user-defined events.</p>
</div></blockquote>
<p><strong>Save all trigger line transitions</strong></p>
<blockquote>
<div><p>By default only those events which are associate with a transition from
zero to non-zero value are saved. These include the user-defined
events and leading edges of pulses on the trigger line. When this
option is present, all events included with the two above options are
saved, regardless the type of transition indicated (zero to non-zero,
non-zero to another non-zero value, and non-zero value to zero).</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have a text format event file whose content    you want to include as user-defined events and create the automatic    annotation file described in <a class="reference internal" href="#babjgedf"><span class="std std-ref">Overview</span></a>, proceed as    follows:</p>
</div>
<ul class="simple">
<li><p>Load the event file with the option Add as user events set.</p></li>
<li><p>Open another data file or quit mne_browse_raw .</p></li>
<li><p>Optionally remove unnecessary events using the event list
dialog.</p></li>
</ul>
<p>The directory in which the raw data file resides now contains
an annotation file which will be automatically loaded each time
the data file is opened. A text format event file suitable for this
purpose can be created manually, extracted from an EDF+ file using
the <code class="docutils literal notranslate"><span class="pre">--tal</span></code> option in <a class="reference internal" href="../c_reference.html#mne-edf2fiff"><span class="std std-ref">mne_edf2fiff</span></a>, or produced by custom
software used during data acquisition.</p>
</div>
<div class="section" id="defining-annotated-events">
<span id="babciggh"></span><h3><a class="toc-backref" href="#id58">Defining annotated events</a><a class="headerlink" href="#defining-annotated-events" title="Permalink to this headline">¶</a></h3>
<p>The Windows/Show annotator… shows
a window to add annotated user-defined events. In this window, the
buttons in first column mark one or more selected time points with
the event number shown in the second column with an associated comment
specified in the third column. Marking also occurs when return is
pressed on any of the second and third column text fields.</p>
<p>When the dialog is brought up for the first time, the file
$HOME/.mne/mne_browse_raw.annot is consulted for the definitions
of the second and third column values, <em>i.e.</em>,
event numbers and comments. You can save the current definitions
with the Save defs button and
reload the annotation definition file with Load defs . The annotation definition file may contain comment
lines starting with ‘%’ or ‘#’ and
data lines which contain an event number and an optional comment,
separated from the event number by a colon.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to add a user-defined event without    an a comment, you can use the Picked to item    in the tool bar, described in <a class="reference internal" href="#cacdfgae"><span class="std std-ref">The tool bar</span></a>.</p>
</div>
</div>
<div class="section" id="event-files">
<span id="cacbcegc"></span><h3><a class="toc-backref" href="#id59">Event files</a><a class="headerlink" href="#event-files" title="Permalink to this headline">¶</a></h3>
<p>A text format event file contains information about transitions
on the digital trigger line in a raw data file. Any lines beginning
with the pound sign (<code class="docutils literal notranslate"><span class="pre">#</span></code> ) are considered as comments.
The format of the event file data is:</p>
<blockquote>
<div><p>&lt;<em>sample</em>&gt; &lt;<em>time</em>&gt; &lt;<em>from</em>&gt; &lt;<em>to</em>&gt; &lt;<em>text</em>&gt;</p>
</div></blockquote>
<p>where</p>
<p>** &lt;<em>sample</em>&gt;**</p>
<blockquote>
<div><p>is
the sample number. This sample number takes into account the initial
empty space in a raw data file as indicated by the FIFF_FIRST_SAMPLE
and/or FIFF_DATA_SKIP tags in the beginning of raw data. Therefore,
the event file contents are independent of the Keep initial skip setting in the open dialog.</p>
</div></blockquote>
<p>** &lt;<em>time</em>&gt;**</p>
<blockquote>
<div><p>is
the time from the beginning of the file to this sample in seconds.</p>
</div></blockquote>
<p>** &lt;<em>from</em>&gt;**</p>
<blockquote>
<div><p>is
the value of the digital trigger channel at &lt;<em>sample</em>&gt; -1.</p>
</div></blockquote>
<p>** &lt;<em>to</em>&gt;**</p>
<blockquote>
<div><p>is
the value of the digital trigger channel at &lt;<em>sample</em>&gt; .</p>
</div></blockquote>
<p>** &lt;<em>text</em>&gt;**</p>
<blockquote>
<div><p>is
an optional annotation associated with the event. This comment will
be displayed in the event list and on the message line when you
move to an event.</p>
</div></blockquote>
<p>When an event file is read back, the &lt;<em>sample</em>&gt; value
will be primarily used to specify the time. If you want the &lt;<em>time</em>&gt; to
be converted to the sample number instead, specify a negative value
for &lt;<em>sample</em>&gt; .</p>
<p>Each event file starts with a “pseudo event” where
both &lt;<em>from</em>&gt; and &lt;<em>to</em>&gt; fields
are equal to zero.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In previous versions of the MNE software,    the event files did not contain the initial empty pseudo event.    In addition the sample numbers did not take into account the initial    empty space in the raw data files. The present version of MNE software    is still backwards compatible with the old version of the event    files and interprets the sample numbers appropriately. However,    the recognition of the old and new event file formats depends on    the initial pseudo event and, therefore, this first event should never    be removed from the new event files. Likewise, if an initial pseudo event    with &lt;<em>from</em>&gt; and &lt;<em>to</em>&gt; fields    equal to zero is added to and old event file, the results will be    unpredictable.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have created Matlab, Excel or other scripts    to process the event files, they may need revision to include the    initial pseudo event in order for mne_browse_raw and mne_process_raw to    recognize the edited event files correctly.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Events can be also stored in fif format. This    format can be read and written with the Matlab toolbox functions mne_read_events and mne_write_events .</p>
</div>
</div>
</div>
<div class="section" id="the-tool-bar">
<span id="cacdfgae"></span><h2><a class="toc-backref" href="#id60">The tool bar</a><a class="headerlink" href="#the-tool-bar" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id14" style="width: 100%">
<span id="caccfegh"></span><a class="reference internal image-reference" href="../../_images/toolbar.png"><img alt="tool bar controls" src="../../_images/toolbar.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">The tool bar controls.</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p>The tool bar controls are shown in <a class="reference internal" href="#caccfegh"><span class="std std-ref">The tool bar controls.</span></a>.
They perform the following functions:</p>
<p><strong>start/s</strong></p>
<blockquote>
<div><p>Allows specification of the starting time of the display as a numeric value.
Note that this value will be rounded to the time of the nearest sample
when you press return. If you click on this text field, you can also
change the time with the up and down cursor keys (1/10 of the window
size), and the page up and down (or control up and down cursor)
keys (one window size).</p>
</div></blockquote>
<p><strong>Remove dc</strong></p>
<blockquote>
<div><p>Remove the dc offset from the signals for display. This does not affect
the data used for averaging and noise-covariance matrix estimation.</p>
</div></blockquote>
<p><strong>Keep dc</strong></p>
<blockquote>
<div><p>Return to the original true dc levels.</p>
</div></blockquote>
<p><strong>Jump to</strong></p>
<blockquote>
<div><p>Enter a value of a trigger to be searched for. The arrow buttons
jump to the next event of this kind. A selection is also automatically
created and displayed as requested in the scales dialog, see <a class="reference internal" href="#cacbehcd"><span class="std std-ref">Scales</span></a>. If the ‘+’ button is active,
previous selections are kept, otherwise they are cleared.</p>
</div></blockquote>
<p><strong>Picked to</strong></p>
<blockquote>
<div><p>Make user events with this event number at all picked time points.
It is also possible to add annotated user events with help of the
annotation dialog. For further information, see <a class="reference internal" href="#babdfaha"><span class="std std-ref">Events and annotations</span></a>.</p>
</div></blockquote>
<p><strong>Forget</strong></p>
<blockquote>
<div><p>Forget desired user events.</p>
</div></blockquote>
<p><strong>Average</strong></p>
<blockquote>
<div><p>Compute an average to this event.</p>
</div></blockquote>
<p>The tool bar status line shows the starting time and the
length of the window in seconds as well as the cursor time point.
The dates and times in parenthesis show the corresponding wall-clock
times in the time zone where mne_browse_raw is
run.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The wall-clock times shown are based on the    information in the fif file and may be offset from the true acquisition    time by about 1 second. This offset is constant throughout the file.    The times reflect the time zone setting of the computer used to    analyze the data rather than the one use to acquire them.</p>
</div>
</div>
<div class="section" id="topographical-data-displays">
<span id="cacdadba"></span><h2><a class="toc-backref" href="#id61">Topographical data displays</a><a class="headerlink" href="#topographical-data-displays" title="Permalink to this headline">¶</a></h2>
<p>Segments of data can shown in a topographical layout in the Full view window, which can be requested from the Scale dialog
or from the Windows menu. Another
similar display is available to show the averaged data. The topographical
layout to use is selected from Adjust/Full view layout… ,
which brings up a window with a list of available layouts. The default
layouts reside in <code class="docutils literal notranslate"><span class="pre">$MNE_ROOT/share/mne/mne_analyze/lout</span></code> .
In addition any layout files residing in <code class="docutils literal notranslate"><span class="pre">$HOME/.mne/lout</span></code> are listed.
The format of the layout files is the same as for the Neuromag programs xplotter and xfit .
A custom EEG layout can be easily created with the mne_make_eeg_layout utility,
see <a class="reference internal" href="../c_reference.html#mne-make-eeg-layout"><span class="std std-ref">mne_make_eeg_layout</span></a>.</p>
<p>Several actions can be performed with the mouse in the topographical data
display:</p>
<p><strong>Left button</strong></p>
<blockquote>
<div><p>Shows the time and the channel name at the cursor at the bottom
of the window.</p>
</div></blockquote>
<p><strong>Left button drag with shift key</strong></p>
<blockquote>
<div><p>Enlarge the view to contain only channels in the selected area.</p>
</div></blockquote>
<p><strong>Right button</strong></p>
<blockquote>
<div><p>Brings up a popup menu which gives a choice of graphics output formats
for the current topographical display. Best quality is achieved
with the Illustrator format. This format has the benefit that it
is object oriented and can be edited in Adobe Illustrator.</p>
</div></blockquote>
<p><strong>Middle button</strong></p>
<blockquote>
<div><p>Drag and drop graphics to one of the cliplab view
areas.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The cliplab drag-and-drop    functionality requires that you have the proprietary Elekta-Neuromag    analysis software installed. mne_browse_raw is    compatible with cliplab versions    1.2.13 and later.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The graphics output files will contain a text    line stating of the time and vertical scales if the zero level/time    and/or viewport frames have been switched on in the scales dialog,    see <a class="reference internal" href="#cacbehcd"><span class="std std-ref">Scales</span></a>.</p>
</div>
</div>
<div class="section" id="description-files-for-off-line-averaging">
<span id="cacbbdgc"></span><h2><a class="toc-backref" href="#id62">Description files for off-line averaging</a><a class="headerlink" href="#description-files-for-off-line-averaging" title="Permalink to this headline">¶</a></h2>
<p>For averaging tasks more complex than those involving only
one trigger, the averaging parameters are specified with help of
a text file. This section describes the format of this file. A sample
averaging file can be found in <code class="docutils literal notranslate"><span class="pre">$MNE_ROOT/share/mne/mne_browse_raw/templates</span></code> .</p>
<div class="section" id="overall-format">
<h3><a class="toc-backref" href="#id63">Overall format</a><a class="headerlink" href="#overall-format" title="Permalink to this headline">¶</a></h3>
<p>Any line beginning with the pound sign (#) in this description
file is a comment. Each parameter in the description file is defined
by a keyword usually followed by a value. Text values consisting
of multiple words, separated by spaces, must be included in quotation
marks. The case of the keywords in the file does not matter. The
ending <code class="docutils literal notranslate"><span class="pre">.ave</span></code> is suggested for the average description
files.</p>
<p>The general format of the description file is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">average</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="n">common</span> <span class="n">parameters</span><span class="o">&gt;</span>
    <span class="n">category</span> <span class="p">{</span>
        <span class="o">&lt;</span><span class="n">category</span> <span class="n">definition</span> <span class="n">parameters</span><span class="o">&gt;</span>
    <span class="p">}</span>

    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The file may contain arbitrarily many categories. The word <code class="docutils literal notranslate"><span class="pre">category</span></code> interchangeable
with <code class="docutils literal notranslate"><span class="pre">condition</span></code> .</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to a bug that existed in some versions    of the Neuromag acquisition software, the trigger line 8 is incorrectly    decoded on trigger channel STI 014. This can be fixed by running mne_fix_stim14 on    the raw data file before using mne_browse_raw or mne_process_raw .    The bug has been fixed on Nov. 10, 2005.</p>
</div>
</div>
<div class="section" id="common-parameters">
<span id="babihfbi"></span><h3><a class="toc-backref" href="#id64">Common parameters</a><a class="headerlink" href="#common-parameters" title="Permalink to this headline">¶</a></h3>
<p>The average definition starts with the common parameters.
They include:</p>
<p><strong>outfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>The name of the file where the averages are to be stored. In interactive
mode, this can be omitted. The resulting average structure can be
viewed and stored from the Manage averages window.</p>
</div></blockquote>
<p><strong>eventfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>Optional file to contain event specifications. If this file is present, the
trigger events in the raw data file are ignored and this file is
consulted instead. The event file format is recognized from the
file name: if it ends with <code class="docutils literal notranslate"><span class="pre">.fif</span></code> , the file is assumed
to be in fif format, otherwise a text file is expected. The text event
file format is described in <a class="reference internal" href="#cacbcegc"><span class="std std-ref">Event files</span></a>.</p>
</div></blockquote>
<p><strong>logfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>This optional file will contain detailed information about the averaging
process. In the interactive mode, the log information can be viewed
from the Manage averages window.</p>
</div></blockquote>
<p><strong>gradReject &lt;*value / T/m*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for MEG gradiometer channels. If the peak-to-peak amplitude
within the extracted epoch exceeds this value on any of the gradiometer
channels, the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>magReject &lt;*value / T*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for MEG magnetometer and axial gradiometer channels.
If the peak-to-peak amplitude within the extracted epoch exceeds
this value on any of the magnetometer or axial gradiometer channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>eegReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for EEG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the EEG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>eogReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for EOG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the EOG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>ecgReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for ECG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the ECG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>gradFlat &lt;*value / T/m*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG planar gradiometers. The peak-to-peak
value of all planar gradiometer signals must exceed this value,
for the epoch to be included. This criterion allows rejection of data
with saturated or otherwise dysfunctional channels. The default value
is zero, <em>i.e.</em>, no rejection.</p>
</div></blockquote>
<p><strong>magFlat &lt;*value / T*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG magnetometers and axial gradiometers
channels.</p>
</div></blockquote>
<p><strong>eegFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for EEG channels.</p>
</div></blockquote>
<p><strong>eogFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for EOG channels.</p>
</div></blockquote>
<p><strong>ecgFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for ECG channels.</p>
</div></blockquote>
<p><strong>stimIgnore &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Ignore this many seconds on both sides of the trigger when considering
the epoch. This parameter is useful for ignoring large stimulus artifacts, <em>e.g.</em>,
from electrical somatosensory stimulation.</p>
</div></blockquote>
<p><strong>fixSkew</strong></p>
<blockquote>
<div><p>Since the sampling of data and the stimulation devices are usually not
synchronized, all trigger input bits may not turn on at the same sample.
If this option is included in the off-line averaging description
file, the following procedure is used to counteract this: if there is
a transition from zero to a nonzero value on the digital trigger channel
at sample <span class="math notranslate nohighlight">\(n\)</span>, the following sample
will be checked for a transition from this nonzero value to another
nonzero value. If such an event pair is found, the two events will
be jointly considered as a transition from zero to the second non-zero
value. With the fixSkew option, mne_browse_raw/mne_process_raw behaves
like the Elekta-Neuromag on-line averaging and Maxfilter (TM) software.</p>
</div></blockquote>
<p><strong>name &lt;*text*&gt;</strong></p>
<blockquote>
<div><p>A descriptive name for this set of averages. If the name contains multiple
words, enclose it in quotation marks “like this”.
The name will appear in the average manager window listing in the
interactive version of the program and as a comment in the processed
data section in the output file.</p>
</div></blockquote>
</div>
<div class="section" id="category-definition">
<span id="cachachh"></span><h3><a class="toc-backref" href="#id65">Category definition</a><a class="headerlink" href="#category-definition" title="Permalink to this headline">¶</a></h3>
<p>A category (condition) is defined by the parameters listed
in this section.</p>
<p><strong>event &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>The zero time point of an epoch to be averaged is defined by a transition
from zero to this number on the digital trigger channel. The interpretation
of the values on the trigger channel can be further modified by
the ignore and mask keywords. If multiple event parameters are present
for a category, all specified events will be included in the average.</p>
</div></blockquote>
<p><strong>ignore &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>If this parameter is specified the selected bits on trigger channel
values can be mask (set to zero) out prior to checking for an existence of
an event. For example, to ignore the values of trigger input lines three
and eight, specify <code class="docutils literal notranslate"><span class="pre">ignore</span> <span class="pre">132</span></code> (<span class="math notranslate nohighlight">\(2^2 + 2^7 = 132\)</span>).</p>
</div></blockquote>
<p><strong>mask &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works similarly to ignore except that a mask specifies the trigger channel
bits to be included. For example, to look at trigger input lines
one to three only, ignoring others, specify <code class="docutils literal notranslate"><span class="pre">mask</span> <span class="pre">7</span></code>
(<span class="math notranslate nohighlight">\(2^0 + 2^1 + 2^2 = 7\)</span>).</p>
</div></blockquote>
<p><strong>prevevent &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Specifies the event that is required to occur immediately before
the event(s) specified with event parameter(s)
in order for averaging to occur. Only one previous event number
can be specified.</p>
</div></blockquote>
<p><strong>prevignore &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works like ignore but for the
events specified with prevevent .
If prevignore and prevmask are
missing, the mask implied by ignore and mask is
applied to prevevent as well.</p>
</div></blockquote>
<p><strong>prevmask &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works like mask but for the events
specified with prevevent . If prevignore and prevmask are
missing, the mask implied by ignore and mask is
applied to prevevent as well.</p>
</div></blockquote>
<p><strong>nextevent &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Specifies the event that is required to occur immediately after
the event(s) specified with event parameter(s)
in order for averaging to occur. Only one next event number can
be specified.</p>
</div></blockquote>
<p><strong>nextignore &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works like ignore but for the
events specified with nextevent .
If nextgnore and nextmask are
missing, the mask implied by ignore and mask is
applied to nextevent as well.</p>
</div></blockquote>
<p><strong>nextmask &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works like mask but for the events
specified with nextevent . If nextignore and nextmask are
missing, the mask implied by ignore and mask is
applied to nextevent as well.</p>
</div></blockquote>
<p><strong>delay &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Adds a delay to the time of the occurrence of an event. Therefore,
if this parameter is positive, the zero time point of the epoch
will be later than the time of the event and, correspondingly, if
the parameter is negative, the zero time point of the epoch will
be earlier than the event. By default, there will be no delay.</p>
</div></blockquote>
<p><strong>tmin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Beginning time point of the epoch.</p>
</div></blockquote>
<p><strong>tmax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>End time point of the epoch.</p>
</div></blockquote>
<p><strong>bmin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Beginning time point of the baseline. If both <code class="docutils literal notranslate"><span class="pre">bmin</span></code> and <code class="docutils literal notranslate"><span class="pre">bmax</span></code> parameters
are present, the baseline defined by this time range is subtracted
from each epoch before they are added to the average.</p>
</div></blockquote>
<p><strong>basemin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Synonym for bmin.</p>
</div></blockquote>
<p><strong>bmax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>End time point of the baseline.</p>
</div></blockquote>
<p><strong>basemax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Synonym for bmax.</p>
</div></blockquote>
<p><strong>name &lt;*text*&gt;</strong></p>
<blockquote>
<div><p>A descriptive name for this category. If the name contains multiple words,
enclose it in quotation marks “like this”. The
name will appear in the average manager window listing in the interactive
version of the program and as a comment averaging category section
in the output file.</p>
</div></blockquote>
<p><strong>abs</strong></p>
<blockquote>
<div><p>Calculate the absolute values of the data in the epoch before adding it to
the average.</p>
</div></blockquote>
<p><strong>stderr</strong></p>
<blockquote>
<div><p>The standard error of mean will be computed for this category and included
in the output fif file.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Specification of the baseline limits does not    any more imply the estimation of the standard error of mean. Instead,    the stderr parameter is required    to invoke this option.</p>
</div>
</div>
</div>
<div class="section" id="description-files-for-covariance-matrix-estimation">
<span id="cacebacg"></span><h2><a class="toc-backref" href="#id66">Description files for covariance matrix estimation</a><a class="headerlink" href="#description-files-for-covariance-matrix-estimation" title="Permalink to this headline">¶</a></h2>
<p>Covariance matrix estimation is controlled by a another description
file, very similar to the average definition. A example of a covariance
description file can be found in the directory <code class="docutils literal notranslate"><span class="pre">$MNE_ROOT/share/mne/mne_browse_raw/templates</span></code> .</p>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id67">Overall format</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Any line beginning with the pound sign (#) in this description
file is a comment. Each parameter in the description file is defined
by a keyword usually followed by a value. Text values consisting
of multiple words, separated by spaces, must be included in quotation
marks. The case of the keywords in the file does not matter. The
ending <code class="docutils literal notranslate"><span class="pre">.cov</span></code> is suggested for the covariance-matrix
description files.</p>
<p>The general format of the description file is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cov {
    &lt;*common parameters*&gt;
    def {
        &lt;*covariance definition parameters*&gt;
    }
    ...
}
</pre></div>
</div>
<p>The file may contain arbitrarily many covariance definitions,
starting with <code class="docutils literal notranslate"><span class="pre">def</span></code> .</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to a bug that existed in some versions    of the Neuromag acquisition software, the trigger line 8 is incorrectly    decoded on trigger channel STI 014. This can be fixed by running mne_fix_stim14 on    the raw data file before using mne_browse_raw or mne_process_raw .    This bug has been fixed in the acquisition software at the Martinos    Center on Nov. 10, 2005.</p>
</div>
</div>
<div class="section" id="babcgeje">
<span id="id3"></span><h3><a class="toc-backref" href="#id68">Common parameters</a><a class="headerlink" href="#babcgeje" title="Permalink to this headline">¶</a></h3>
<p>The average definition starts with the common parameters.
They include:</p>
<p><strong>outfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>The name of the file where the covariance matrix is to be stores. This
parameter is mandatory.</p>
</div></blockquote>
<p><strong>eventfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>Optional file to contain event specifications. This file can be
either in fif or text format (see <a class="reference internal" href="#cacbcegc"><span class="std std-ref">Event files</span></a>). The event
file format is recognized from the file name: if it ends with <code class="docutils literal notranslate"><span class="pre">.fif</span></code> ,
the file is assumed to be in fif format, otherwise a text file is
expected. If this parameter is present, the trigger events in the
raw data file are ignored and this event file is consulted instead.
The event file format is described in <a class="reference internal" href="#cacbcegc"><span class="std std-ref">Event files</span></a>.</p>
</div></blockquote>
<p><strong>logfile &lt;*name*&gt;</strong></p>
<blockquote>
<div><p>This optional file will contain detailed information about the averaging
process. In the interactive mode, the log information can be viewed
from the Manage averages window.</p>
</div></blockquote>
<p><strong>gradReject &lt;*value / T/m*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for MEG gradiometer channels. If the peak-to-peak amplitude
within the extracted epoch exceeds this value on any of the gradiometer
channels, the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>magReject &lt;*value / T*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for MEG magnetometer and axial gradiometer channels.
If the peak-to-peak amplitude within the extracted epoch exceeds
this value on any of the magnetometer or axial gradiometer channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>eegReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for EEG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the EEG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>eogReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for EOG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the EOG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>ecgReject &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Rejection limit for ECG channels. If the peak-to-peak amplitude within
the extracted epoch exceeds this value on any of the ECG channels,
the epoch will be omitted from the average.</p>
</div></blockquote>
<p><strong>gradFlat &lt;*value / T/m*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG planar gradiometers. The peak-to-peak
value of all planar gradiometer signals must exceed this value,
for the epoch to be included. This criterion allows rejection of data
with saturated or otherwise dysfunctional channels. The default value
is zero, <em>i.e.</em>, no rejection.</p>
</div></blockquote>
<p><strong>magFlat &lt;*value / T*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for MEG magnetometers and axial gradiometers
channels.</p>
</div></blockquote>
<p><strong>eegFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for EEG channels.</p>
</div></blockquote>
<p><strong>eogFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for EOG channels.</p>
</div></blockquote>
<p><strong>ecgFlat &lt;*value / V*&gt;</strong></p>
<blockquote>
<div><p>Signal detection criterion for ECG channels.</p>
</div></blockquote>
<p><strong>stimIgnore &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Ignore this many seconds on both sides of the trigger when considering
the epoch. This parameter is useful for ignoring large stimulus artifacts, <em>e.g.</em>,
from electrical somatosensory stimulation.</p>
</div></blockquote>
<p><strong>fixSkew</strong></p>
<blockquote>
<div><p>Since the sampling of data and the stimulation devices are usually not
synchronized, all trigger input bits may not turn on at the same sample.
If this option is included in the off-line averaging description
file, the following procedure is used to counteract this: if there is
a transition from zero to a nonzero value on the digital trigger channel
at sample <span class="math notranslate nohighlight">\(n\)</span>, the following sample
will be checked for a transition from this nonzero value to another
nonzero value. If such an event pair is found, the two events will
be jointly considered as a transition from zero to the second non-zero
value.</p>
</div></blockquote>
<p><strong>keepsamplemean</strong></p>
<blockquote>
<div><p>The means at individual samples will <em>not</em> be
subtracted in the estimation of the covariance matrix. For details,
see <a class="reference internal" href="#babhjdej"><span class="std std-ref">Epochs</span></a>. This parameter is effective only for
estimating the covariance matrix from epochs. It is recommended
to specify this option. However, for compatibility with previous
MNE releases, keepsamplemean is
not on by default.</p>
</div></blockquote>
</div>
<div class="section" id="covariance-definitions">
<span id="babeciah"></span><h3><a class="toc-backref" href="#id69">Covariance definitions</a><a class="headerlink" href="#covariance-definitions" title="Permalink to this headline">¶</a></h3>
<p>The covariance definitions starting with def specify the
epochs to be included in the estimation of the covariance matrix.</p>
<p><strong>event &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>The zero time point of an epoch to be averaged is defined by a transition
from zero to this number on the digital trigger channel. The interpretation
of the values on the trigger channel can be further modified by
the ignore and mask keywords. If multiple event parameters are present
in a definition, all specified events will be included. If the event
parameter is missing or set to zero, the covariance matrix is computed
over a section of the raw data, defined by the <code class="docutils literal notranslate"><span class="pre">tmin</span></code> and <code class="docutils literal notranslate"><span class="pre">tmax</span></code> parameters.</p>
</div></blockquote>
<p><strong>ignore &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>If this parameter is specified the selected bits on trigger channel
values can be mask (set to zero) out prior to checking for an existence of
an event. For example, to ignore the values of trigger input lines three
and eight, specify <code class="docutils literal notranslate"><span class="pre">ignore</span> <span class="pre">132</span></code> (<span class="math notranslate nohighlight">\(2^2 + 2^7 = 132\)</span>).</p>
</div></blockquote>
<p><strong>mask &lt;*number*&gt;</strong></p>
<blockquote>
<div><p>Works similarly to ignore except that a mask specifies the trigger channel
bits to be included. For example, to look at trigger input lines
one to three only, ignoring others, specify <code class="docutils literal notranslate"><span class="pre">mask</span> <span class="pre">7</span></code>
(<span class="math notranslate nohighlight">\(2^0 + 2^1 + 2^2 = 7\)</span>).</p>
</div></blockquote>
<p><strong>delay &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Adds a delay to the time of the occurrence of an event. Therefore,
if this parameter is positive, the zero time point of the epoch
will be later than the time of the event and, correspondingly, if
the parameter is negative, the zero time point of the epoch will
be earlier than the time of the event. By default, there will be
no delay.</p>
</div></blockquote>
<p><strong>tmin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Beginning time point of the epoch. If the <code class="docutils literal notranslate"><span class="pre">event</span></code> parameter
is zero or missing, this defines the beginning point of the raw
data range to be included.</p>
</div></blockquote>
<p><strong>tmax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>End time point of the epoch. If the <code class="docutils literal notranslate"><span class="pre">event</span></code> parameter
is zero or missing, this defines the end point of the raw data range
to be included.</p>
</div></blockquote>
<p><strong>bmin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>It is possible to remove a baseline from the epochs before they
are included in the covariance matrix estimation. This parameter
defines the starting point of the baseline. This feature can be
employed to avoid overestimation of noise in the presence of low-frequency drifts.
Setting of <code class="docutils literal notranslate"><span class="pre">bmin</span></code> and <code class="docutils literal notranslate"><span class="pre">bmax</span></code> is always recommended
for epoch-based covariance matrix estimation.</p>
</div></blockquote>
<p><strong>basemin &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Synonym for bmin.</p>
</div></blockquote>
<p><strong>bmax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>End time point of the baseline, see above.</p>
</div></blockquote>
<p><strong>basemax &lt;*time / s*&gt;</strong></p>
<blockquote>
<div><p>Synonym for bmax.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="managing-averages">
<span id="cacjfadf"></span><h2><a class="toc-backref" href="#id70">Managing averages</a><a class="headerlink" href="#managing-averages" title="Permalink to this headline">¶</a></h2>
<p>This selection pops up a dialog which allows the management
of computed averages. The controls in the dialog, shown in <a class="reference internal" href="#cacefabd"><span class="std std-ref">The dialog for managing available averages.</span></a>, allow the following:</p>
<ul class="simple">
<li><p>Select which categories (conditions)
are displayed in the average view.</p></li>
<li><p>Select the colors of the traces.</p></li>
<li><p>Viewing the log information accumulated in the averaging process.</p></li>
<li><p>Saving of averaged data.</p></li>
<li><p>Setting the active vectors for signal-space projection if
the data were loaded from a file.</p></li>
<li><p>Setting the current software gradient compensation for data
loaded from a file.</p></li>
</ul>
<div class="figure align-default" id="id15">
<span id="cacefabd"></span><img alt="dialog for managing available averages" src="../../_images/manage_averages_dialog.png" />
<p class="caption"><span class="caption-text">The dialog for managing available averages.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>In the example of <a class="reference internal" href="#cacefabd"><span class="std std-ref">The dialog for managing available averages.</span></a>, the first item
is an average computed within mne_browse_raw ,
the second one contains data loaded from a file with signal-space
projection data available, the third one demonstrates multiple data
sets loaded from a file with neither projection nor software gradient
compensation available, and the last one is a data set loaded from file
with software gradient compensation data present. Note that this
is now a scrolled window and some of the loaded data may be below
or above the current view area.</p>
</div>
<div class="section" id="the-signal-space-projection-ssp-method">
<span id="cacchabi"></span><h2><a class="toc-backref" href="#id71">The Signal-Space Projection (SSP) method</a><a class="headerlink" href="#the-signal-space-projection-ssp-method" title="Permalink to this headline">¶</a></h2>
<p>The Signal-Space Projection (SSP) is one approach to rejection
of external disturbances in software. The section presents some
relevant details of this method.</p>
<div class="section" id="general-concepts">
<h3><a class="toc-backref" href="#id72">General concepts</a><a class="headerlink" href="#general-concepts" title="Permalink to this headline">¶</a></h3>
<p>Unlike many other noise-cancellation approaches, SSP does
not require additional reference sensors to record the disturbance
fields. Instead, SSP relies on the fact that the magnetic field
distributions generated by the sources in the brain have spatial
distributions sufficiently different from those generated by external
noise sources. Furthermore, it is implicitly assumed that the linear
space spanned by the significant external noise patters has a low
dimension.</p>
<p>Without loss of generality we can always decompose any <span class="math notranslate nohighlight">\(n\)</span>-channel
measurement <span class="math notranslate nohighlight">\(b(t)\)</span> into its signal and
noise components as</p>
<div class="math notranslate nohighlight">
\[b(t) = b_s(t) + b_n(t)\]</div>
<p>Further, if we know that <span class="math notranslate nohighlight">\(b_n(t)\)</span> is
well characterized by a few field patterns <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span>,
we can express the disturbance as</p>
<div class="math notranslate nohighlight">
\[b_n(t) = Uc_n(t) + e(t)\ ,\]</div>
<p>where the columns of <span class="math notranslate nohighlight">\(U\)</span> constitute
an orthonormal basis for <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span>, <span class="math notranslate nohighlight">\(c_n(t)\)</span> is
an <span class="math notranslate nohighlight">\(m\)</span>-component column vector, and
the error term <span class="math notranslate nohighlight">\(e(t)\)</span> is small and does
not exhibit any consistent spatial distributions over time, <em>i.e.</em>, <span class="math notranslate nohighlight">\(C_e = E \{e e^T\} = I\)</span>.
Subsequently, we will call the column space of <span class="math notranslate nohighlight">\(U\)</span> the
noise subspace. The basic idea of SSP is that we can actually find
a small basis set <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> such that the
conditions described above are satisfied. We can now construct the
orthogonal complement operator</p>
<div class="math notranslate nohighlight">
\[P_{\perp} = I - UU^T\]</div>
<p>and apply it to <span class="math notranslate nohighlight">\(b(t)\)</span> yielding</p>
<div class="math notranslate nohighlight">
\[b(t) = P_{\perp}b_s(t)\ ,\]</div>
<p>since <span class="math notranslate nohighlight">\(P_{\perp}b_n(t) = P_{\perp}Uc_n(t) \approx 0\)</span>. The projection operator <span class="math notranslate nohighlight">\(P_{\perp}\)</span> is
called the signal-space projection operator and generally provides
considerable rejection of noise, suppressing external disturbances
by a factor of 10 or more. The effectiveness of SSP depends on two
factors:</p>
<ul class="simple">
<li><p>The basis set <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> should
be able to characterize the disturbance field patterns completely
and</p></li>
<li><p>The angles between the noise subspace space spanned by <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> and the
signal vectors <span class="math notranslate nohighlight">\(b_s(t)\)</span> should be as close
to <span class="math notranslate nohighlight">\(\pi / 2\)</span> as possible.</p></li>
</ul>
<p>If the first requirement is not satisfied, some noise will
leak through because <span class="math notranslate nohighlight">\(P_{\perp}b_n(t) \neq 0\)</span>. If the any
of the brain signal vectors <span class="math notranslate nohighlight">\(b_s(t)\)</span> is
close to the noise subspace not only the noise but also the signal
will be attenuated by the application of <span class="math notranslate nohighlight">\(P_{\perp}\)</span> and,
consequently, there might by little gain in signal-to-noise ratio.
<a class="reference internal" href="../preprocessing/ssp.html#cacfgiec"><span class="std std-ref">An example of the effect of SSP</span></a> demonstrates the effect of SSP on the Vectorview
magnetometer data. After the elimination of a three-dimensional
noise subspace, the absolute value of the noise is dampened approximately
by a factor of 10 and the covariance matrix becomes diagonally dominant.</p>
<p>Since the signal-space projection modifies the signal vectors
originating in the brain, it is necessary to apply the projection
to the forward solution in the course of inverse computations. This
is accomplished by mne_inverse_operator as
described in <a class="reference internal" href="../source_localization/c_inverse.html#c-legacy-inverse-operator"><span class="std std-ref">Inverse-operator decomposition</span></a>. For more information on SSP,
please consult the references listed in <a class="reference internal" href="../../references.html#cegieebb"><span class="std std-ref">Signal-space projections</span></a>.</p>
</div>
<div class="section" id="eeg-average-electrode-reference">
<h3><a class="toc-backref" href="#id73">EEG average electrode reference</a><a class="headerlink" href="#eeg-average-electrode-reference" title="Permalink to this headline">¶</a></h3>
<p>In the computation of EEG-based source estimates, the MNE
software employs the average-electrode reference, which means that
the average over all electrode signals <span class="math notranslate nohighlight">\(v_1 \dotso v_p\)</span> is
subtracted from each <span class="math notranslate nohighlight">\(v_j\)</span>:</p>
<div class="math notranslate nohighlight">
\[v_{j}' = v_j - \frac{1}{p} \sum_{k} v_k\ .\]</div>
<p>It is easy to see that the above equation actually corresponds
to the projection:</p>
<div class="math notranslate nohighlight">
\[v' = (I - uu^T)v\ ,\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[u = \frac{1}{\sqrt{p}}[1\ ...\ 1]^T\ .\]</div>
</div>
</div>
<div class="section" id="covariance-matrix-estimation">
<span id="cachaaeg"></span><h2><a class="toc-backref" href="#id74">Covariance matrix estimation</a><a class="headerlink" href="#covariance-matrix-estimation" title="Permalink to this headline">¶</a></h2>
<p>This section describes how the covariance matrices are computed
for raw data and epochs.</p>
<div class="section" id="continuous-raw-data">
<h3><a class="toc-backref" href="#id75">Continuous raw data</a><a class="headerlink" href="#continuous-raw-data" title="Permalink to this headline">¶</a></h3>
<p>If a covariance matrix of a raw data is computed the data
are checked for artifacts in 200-sample pieces. Let us collect the
accepted <span class="math notranslate nohighlight">\(M\)</span> samples from all channels to
the vectors <span class="math notranslate nohighlight">\(s_j,\ j = 1, \dotsc ,M\)</span>. The estimate of the covariance
matrix is then computed as:</p>
<div class="math notranslate nohighlight">
\[\hat{C} = \frac{1}{M - 1} \sum_{j = 1}^M {(s_j - \bar{s})(s_j - \bar{s})}^T\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\bar{s} = \frac{1}{M} \sum_{j = 1}^M s_j\]</div>
<p>is the average of the signals over all times. Note that no
attempt is made to correct for low frequency drifts in the data.
If the contribution of any frequency band is not desired in the
covariance matrix estimate, suitable band-pass filter should be
applied.</p>
<p>For actual computations, it is convenient to rewrite the
expression for the covariance matrix as</p>
<div class="math notranslate nohighlight">
\[\hat{C} = \frac{1}{M - 1} \sum_{j = 1}^M {s_j s_j^T} - \frac{M}{M - 1} \bar{s} \bar{s}^T\]</div>
</div>
<div class="section" id="epochs">
<span id="babhjdej"></span><h3><a class="toc-backref" href="#id76">Epochs</a><a class="headerlink" href="#epochs" title="Permalink to this headline">¶</a></h3>
<p>The calculation of the covariance matrix is slightly more
complicated in the epoch mode. If the bmin and bmax parameters
are specified in the covariance matrix description file (see <a class="reference internal" href="#babeciah"><span class="std std-ref">Covariance definitions</span></a>), baseline correction is first applied to each
epoch.</p>
<p>Let the vectors</p>
<div class="math notranslate nohighlight">
\[s_{rpj}\ ;\ p = 1 \dotsc P_r\ ;\ j = 1 \dotsc N_r\ ;\ r = 1 \dotsc R\]</div>
<p>be the samples from all channels in the baseline corrected epochs
used to calculate the covariance matrix. In the above, <span class="math notranslate nohighlight">\(P_r\)</span> is
the number of accepted epochs in category <span class="math notranslate nohighlight">\(r\)</span>, <span class="math notranslate nohighlight">\(N_r\)</span> is
the number of samples in the epochs of category <span class="math notranslate nohighlight">\(r\)</span>,
and <span class="math notranslate nohighlight">\(R\)</span> is the number of categories.</p>
<p>If the recommended <code class="docutils literal notranslate"><span class="pre">--keepsamplemean</span></code> option
is specified in the covariance matrix definition file, the baseline
correction is applied to the epochs but the means at individual
samples are not subtracted. Thus the covariance matrix will be computed
as:</p>
<div class="math notranslate nohighlight">
\[\hat{C} = \frac{1}{N_C} \sum_{r,p,j} {s_{rpj} s_{rpj}^T}\ ,\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[N_C = \sum_{r = 1}^R N_r P_r\ .\]</div>
<p>If keepsamplemean is <em>not</em> specified,
we estimate the covariance matrix as</p>
<div class="math notranslate nohighlight">
\[\hat{C} = \frac{1}{N_C} \sum_{r = 1}^R \sum_{j = 1}^{N_r} \sum_{p = 1}^{P_r} {(s_{rpj} - \bar{s_{rj}}) ((s_{rpj} - \bar{s_{rj}})^T}\ ,\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\bar{s_{rj}} = \frac{1}{P_r} \sum_{p = 1}^{P_r} s_{rpj}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[N_C = \sum_{r = 1}^R {N_r (P_r - 1)}\ ,\]</div>
<p>which reflects the fact that <span class="math notranslate nohighlight">\(N_r\)</span> means
are computed for category <span class="math notranslate nohighlight">\(r\)</span>. It
is easy to see that the expression for the covariance matrix estimate
can be cast into a more convenient form</p>
<div class="math notranslate nohighlight">
\[\hat{C} = \frac{1}{N_C} \sum_{r,p,j} {s_{rpj} s_{rpj}^T} - \frac{1}{N_C} \sum_r P_r \sum_j {\bar{s_{rj}} \bar{s_rj}^T}/ .\]</div>
<p>Subtraction of the means at individual samples is useful
if it can be expected that the evoked response from previous stimulus
extends to part of baseline period of the next one.</p>
</div>
<div class="section" id="combination-of-covariance-matrix-estimates">
<h3><a class="toc-backref" href="#id77">Combination of covariance matrix estimates</a><a class="headerlink" href="#combination-of-covariance-matrix-estimates" title="Permalink to this headline">¶</a></h3>
<p>Let us assume that we have computed multiple covariance matrix
estimates <span class="math notranslate nohighlight">\(\hat{C_1} \dotso \hat{C_Q}\)</span> with corresponding degrees
of freedom <span class="math notranslate nohighlight">\(N_1 \dotso N_Q\)</span>. We can combine these
matrices together as</p>
<div class="math notranslate nohighlight">
\[C = \sum_q {\alpha_q \hat{C}_q}\ ,\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\alpha_q = \frac{N_q}{\sum_q {N_q}}\ .\]</div>
</div>
<div class="section" id="ssp-information-included-with-covariance-matrices">
<h3><a class="toc-backref" href="#id78">SSP information included with covariance matrices</a><a class="headerlink" href="#ssp-information-included-with-covariance-matrices" title="Permalink to this headline">¶</a></h3>
<p>If a signal space projection was on when a covariance matrix
was calculated, information about the projections applied is included
with the covariance matrix when it is saved. These projection data
are read by mne_inverse_operator and
applied to the forward solution as well as appropriate. Inclusion
of the projections into the covariance matrix limits the possibilities
to use the <code class="docutils literal notranslate"><span class="pre">--bad</span></code> and <code class="docutils literal notranslate"><span class="pre">--proj</span></code> options in mne_inverse_operator ,
see <a class="reference internal" href="../source_localization/c_inverse.html#c-legacy-inverse-operator"><span class="std std-ref">Inverse-operator decomposition</span></a>.</p>
</div>
</div>
<div class="section" id="interacting-with-mne-analyze">
<span id="cacghegc"></span><h2><a class="toc-backref" href="#id79">Interacting with mne_analyze</a><a class="headerlink" href="#interacting-with-mne-analyze" title="Permalink to this headline">¶</a></h2>
<p>To facilitate interactive analysis of raw data, mne_browse_raw can
run  mne_analyze as a child process.
In this mode, mne_analyze is “remote controlled” by mne_browse_raw and
will also send replies to mne_browse_raw to
keep the two programs synchronized. A practical application of this
communication is to view field or potential maps and cortically-constrained
source estimates computed from raw data instantly.</p>
<p>The subordinate mne_analyze is
started and stopped from Start mne_analyze and Quit mne_analyze in the Windows menu,
respectively. The following settings are communicated between the
two processes:</p>
<p><strong>The raw data file</strong></p>
<blockquote>
<div><p>If a new raw data file is opened and a subordinate mne_analyze is active,
the name of the raw data file is communicated to mne_analyze and
a simplified version of the open dialog appears in mne_analyze allowing
selection of an inverse operator or are MEG/MRI coordinate transformation.
If a raw data file is already open in mne_browse_raw when mne_analyze is
started, the open dialog appears immediately.</p>
</div></blockquote>
<p><strong>Time point</strong></p>
<blockquote>
<div><p>When a new time point is selected in mne_browse_raw the mne_analyze time
point selection is updated accordingly. Time point selection in mne_analyze is
not transferred to mne_browse_raw .</p>
</div></blockquote>
<p><strong>Scales</strong></p>
<blockquote>
<div><p>The vertical scales are kept synchronized between the two programs.
In addition, the settings of the sample time limits are communicated
from mne_browse_raw to mne_analyze .</p>
</div></blockquote>
<p><strong>Filter</strong></p>
<blockquote>
<div><p>The filter settings are kept synchronized.</p>
</div></blockquote>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container institutions">
    <a href="https://www.massgeneral.org/"><img class="institution_lg" src="../../_static/institution_logos/MGH.svg" title="Massachusetts General Hospital" alt="Massachusetts General Hospital"/></a>
    <a href="https://martinos.org/"><img class="institution_lg" src="../../_static/institution_logos/Martinos.png" title="Athinoula A. Martinos Center for Biomedical Imaging" alt="Athinoula A. Martinos Center for Biomedical Imaging"/></a>
    <a href="https://hms.harvard.edu/"><img class="institution_lg" src="../../_static/institution_logos/Harvard.png" title="Harvard Medical School" alt="Harvard Medical School"/></a>
    <a href="https://web.mit.edu/"><img class="institution_sm" src="../../_static/institution_logos/MIT.svg" title="Massachusetts Institute of Technology" alt="Massachusetts Institute of Technology"/></a>
    <a href="https://www.nyu.edu/"><img class="institution_md" src="../../_static/institution_logos/NYU.png" title="New York University" alt="New York University"/></a>
    <a href="http://www.cea.fr/"><img class="institution_md" src="../../_static/institution_logos/CEA.png" title="Commissariat à l´énergie atomique et aux énergies alternatives" alt="Commissariat à l´énergie atomique et aux énergies alternatives"/></a>
    <a href="https://sci.aalto.fi/"><img class="institution_md" src="../../_static/institution_logos/Aalto.svg" title="Aalto-yliopiston perustieteiden korkeakoulu" alt="Aalto-yliopiston perustieteiden korkeakoulu"/></a>
    <a href="https://www.telecom-paris.fr/"><img class="institution_md" src="../../_static/institution_logos/Telecom_Paris_Tech.png" title="Télécom ParisTech" alt="Télécom ParisTech"/></a>
    <a href="https://www.washington.edu/"><img class="institution_sm" src="../../_static/institution_logos/Washington.png" title="University of Washington" alt="University of Washington"/></a>
    <a href="https://icm-institute.org/"><img class="institution_lg" src="../../_static/institution_logos/ICM.jpg" title="Institut du Cerveau et de la Moelle épinière" alt="Institut du Cerveau et de la Moelle épinière"/></a>
    <a href="https://www.bu.edu/"><img class="institution_sm" src="../../_static/institution_logos/BU.svg" title="Boston University" alt="Boston University"/></a>
    <a href="https://www.inserm.fr/"><img class="institution_xs" src="../../_static/institution_logos/Inserm.svg" title="Institut national de la santé et de la recherche médicale" alt="Institut national de la santé et de la recherche médicale"/></a>
    <a href="https://www.fz-juelich.de/"><img class="institution_sm" src="../../_static/institution_logos/Julich.svg" title="Forschungszentrum Jülich" alt="Forschungszentrum Jülich"/></a>
    <a href="https://www.tu-ilmenau.de/"><img class="institution_sm" src="../../_static/institution_logos/Ilmenau.gif" title="Technische Universität Ilmenau" alt="Technische Universität Ilmenau"/></a>
    <a href="https://bids.berkeley.edu/"><img class="institution_md" src="../../_static/institution_logos/BIDS.png" title="Berkeley Institute for Data Science" alt="Berkeley Institute for Data Science"/></a>
    <a href="https://www.inria.fr/"><img class="institution_sm" src="../../_static/institution_logos/inria.png" title="Institut national de recherche en informatique et en automatique" alt="Institut national de recherche en informatique et en automatique"/></a>
    <a href="https://www.au.dk/"><img class="institution_sm" src="../../_static/institution_logos/Aarhus.png" title="Aarhus Universitet" alt="Aarhus Universitet"/></a>
    <a href="https://www.uni-graz.at/"><img class="institution_md" src="../../_static/institution_logos/Graz.jpg" title="Karl-Franzens-Universität Graz" alt="Karl-Franzens-Universität Graz"/></a>
  </div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2019, MNE Developers. Last updated on 2019-07-11.</p>
  </div>
</footer>
  </body>
</html>