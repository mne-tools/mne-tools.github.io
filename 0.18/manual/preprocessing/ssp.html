<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Signal-Space Projection (SSP) &#8212; MNE 0.18.2 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap_divs.css" />
    <link rel="stylesheet" href="../../_static/reset-syntax.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap_divs.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <script type="text/javascript" src="../../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>



<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>



  </head><body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.18.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../getting_started.html">Install</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../python_reference.html">API</a></li>
                <li><a href="../../glossary.html">Glossary</a></li>
                <li><a href="../../auto_examples/index.html">Examples</a></li>
                <li><a href="../../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.18.2
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.18 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.17/index.html">v0.17</a></li>
    <li><a href="https://mne-tools.github.io/0.16/index.html">v0.16</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Signal-Space Projection (SSP)</a><ul>
<li><a class="reference internal" href="#the-ssp-method">The SSP method</a><ul>
<li><a class="reference internal" href="#what-is-ssp">What is SSP?</a></li>
<li><a class="reference internal" href="#why-ssp">Why SSP?</a></li>
<li><a class="reference internal" href="#estimation-of-the-noise-subspace">Estimation of the noise subspace</a></li>
<li><a class="reference internal" href="#average-reference">Average reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-api">The API</a><ul>
<li><a class="reference internal" href="#the-proj-attribute">The proj attribute</a></li>
<li><a class="reference internal" href="#computing-projectors">Computing projectors</a></li>
<li><a class="reference internal" href="#adding-removing-projectors">Adding/removing projectors</a></li>
<li><a class="reference internal" href="#applying-projectors">Applying projectors</a></li>
<li><a class="reference internal" href="#delayed-projectors">Delayed projectors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="signal-space-projection-ssp">
<span id="ssp"></span><h1>Signal-Space Projection (SSP)<a class="headerlink" href="#signal-space-projection-ssp" title="Permalink to this headline">Â¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#the-ssp-method" id="id2">The SSP method</a></p>
<ul>
<li><p><a class="reference internal" href="#what-is-ssp" id="id3">What is SSP?</a></p></li>
<li><p><a class="reference internal" href="#why-ssp" id="id4">Why SSP?</a></p></li>
<li><p><a class="reference internal" href="#estimation-of-the-noise-subspace" id="id5">Estimation of the noise subspace</a></p></li>
<li><p><a class="reference internal" href="#average-reference" id="id6">Average reference</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-api" id="id7">The API</a></p>
<ul>
<li><p><a class="reference internal" href="#the-proj-attribute" id="id8">The proj attribute</a></p></li>
<li><p><a class="reference internal" href="#computing-projectors" id="id9">Computing projectors</a></p></li>
<li><p><a class="reference internal" href="#adding-removing-projectors" id="id10">Adding/removing projectors</a></p></li>
<li><p><a class="reference internal" href="#applying-projectors" id="id11">Applying projectors</a></p></li>
<li><p><a class="reference internal" href="#delayed-projectors" id="id12">Delayed projectors</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="the-ssp-method">
<h2><a class="toc-backref" href="#id2">The SSP method</a><a class="headerlink" href="#the-ssp-method" title="Permalink to this headline">Â¶</a></h2>
<p>The Signal-Space Projection (SSP) is one approach to rejection
of external disturbances in software. Unlike many other noise-cancellation
approaches, SSP does not require additional reference sensors to record the disturbance
fields. Instead, SSP relies on the fact that the magnetic field
distributions generated by the sources in the brain have spatial
distributions sufficiently different from those generated by external
noise sources. Furthermore, it is implicitly assumed that the linear
space spanned by the significant external noise patters has a low
dimension.</p>
<div class="section" id="what-is-ssp">
<h3><a class="toc-backref" href="#id3">What is SSP?</a><a class="headerlink" href="#what-is-ssp" title="Permalink to this headline">Â¶</a></h3>
<p>Without loss of generality we can always decompose any <span class="math notranslate nohighlight">\(n\)</span>-channel
measurement <span class="math notranslate nohighlight">\(b(t)\)</span> into its signal and
noise components as</p>
<div class="math notranslate nohighlight" id="equation-additive-model">
<span class="eqno">(1)<a class="headerlink" href="#equation-additive-model" title="Permalink to this equation">Â¶</a></span>\[b(t) = b_s(t) + b_n(t)\]</div>
<p>Further, if we know that <span class="math notranslate nohighlight">\(b_n(t)\)</span> is
well characterized by a few field patterns <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span>,
we can express the disturbance as</p>
<div class="math notranslate nohighlight" id="equation-pca">
<span class="eqno">(2)<a class="headerlink" href="#equation-pca" title="Permalink to this equation">Â¶</a></span>\[b_n(t) = Uc_n(t) + e(t)\ ,\]</div>
<p>where the columns of <span class="math notranslate nohighlight">\(U\)</span> constitute
an orthonormal basis for <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span>, <span class="math notranslate nohighlight">\(c_n(t)\)</span> is
an <span class="math notranslate nohighlight">\(m\)</span>-component column vector, and
the error term <span class="math notranslate nohighlight">\(e(t)\)</span> is small and does
not exhibit any consistent spatial distributions over time, <em>i.e.</em>, <span class="math notranslate nohighlight">\(C_e = E \{e e^T\} = I\)</span>.
Subsequently, we will call the column space of <span class="math notranslate nohighlight">\(U\)</span> the
noise subspace. The basic idea of SSP is that we can actually find
a small basis set <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> such that the
conditions described above are satisfied. We can now construct the
orthogonal complement operator</p>
<div class="math notranslate nohighlight" id="equation-projector">
<span class="eqno">(3)<a class="headerlink" href="#equation-projector" title="Permalink to this equation">Â¶</a></span>\[P_{\perp} = I - UU^T\]</div>
<p>and apply it to <span class="math notranslate nohighlight">\(b(t)\)</span> in Equation <a class="reference internal" href="#equation-additive-model">(1)</a> yielding</p>
<div class="math notranslate nohighlight" id="equation-result">
<span class="eqno">(4)<a class="headerlink" href="#equation-result" title="Permalink to this equation">Â¶</a></span>\[b_{s}(t) \approx P_{\perp}b(t)\ ,\]</div>
<p>since <span class="math notranslate nohighlight">\(P_{\perp}b_n(t) = P_{\perp}(Uc_n(t) + e(t)) \approx 0\)</span> and <span class="math notranslate nohighlight">\(P_{\perp}b_{s}(t) \approx b_{s}(t)\)</span>. The projection operator <span class="math notranslate nohighlight">\(P_{\perp}\)</span> is
called the <strong>signal-space projection operator</strong>.</p>
</div>
<div class="section" id="why-ssp">
<h3><a class="toc-backref" href="#id4">Why SSP?</a><a class="headerlink" href="#why-ssp" title="Permalink to this headline">Â¶</a></h3>
<p>It provides considerable rejection of noise, suppressing external disturbances
by a factor of 10 or more. The effectiveness of SSP depends on two
factors:</p>
<ul class="simple">
<li><p>The basis set <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> should
be able to characterize the disturbance field patterns completely
and</p></li>
<li><p>The angles between the noise subspace space spanned by <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> and the
signal vectors <span class="math notranslate nohighlight">\(b_s(t)\)</span> should be as close
to <span class="math notranslate nohighlight">\(\pi / 2\)</span> as possible.</p></li>
</ul>
<p>If the first requirement is not satisfied, some noise will
leak through because <span class="math notranslate nohighlight">\(P_{\perp}b_n(t) \neq 0\)</span>. If the any
of the brain signal vectors <span class="math notranslate nohighlight">\(b_s(t)\)</span> is
close to the noise subspace not only the noise but also the signal
will be attenuated by the application of <span class="math notranslate nohighlight">\(P_{\perp}\)</span> and,
consequently, there might by little gain in signal-to-noise ratio.
<a class="reference internal" href="#cacfgiec"><span class="std std-ref">An example of the effect of SSP</span></a> demonstrates the effect of SSP on the Vectorview
magnetometer data. After the elimination of a three-dimensional
noise subspace, the absolute value of the noise is dampened approximately
by a factor of 10 and the covariance matrix becomes diagonally dominant.</p>
<p>Since the signal-space projection modifies the signal vectors
originating in the brain, it is necessary to apply the projection
to the forward solution in the course of inverse computations. This
is accomplished by mne_inverse_operator as
described in <a class="reference internal" href="../source_localization/inverse.html#inverse-operator"><span class="std std-ref">Computation of the solution</span></a>. For more information on SSP,
please consult the references listed in <a class="reference internal" href="../../references.html#cegieebb"><span class="std std-ref">Signal-space projections</span></a>.</p>
<div class="figure align-center" id="id1">
<span id="cacfgiec"></span><img alt="example of the effect of SSP" src="../../_images/proj-off-on.png" />
<p class="caption"><span class="caption-text">An example of the effect of SSP</span><a class="headerlink" href="#id1" title="Permalink to this image">Â¶</a></p>
<div class="legend">
<p>The covariance matrix <span class="math notranslate nohighlight">\(C_n\)</span> of noise data on the 102 Vectorview magnetometers was computed (a) before and (b) after the application of SSP with three-dimensional noise subspace. The plotted quantity is <span class="math notranslate nohighlight">\(\sqrt {|(C_n)_{jk}|}\)</span>. Note that the vertical scale in (b) is ten times smaller than in (a).</p>
</div>
</div>
</div>
<div class="section" id="estimation-of-the-noise-subspace">
<span id="babffchf"></span><h3><a class="toc-backref" href="#id5">Estimation of the noise subspace</a><a class="headerlink" href="#estimation-of-the-noise-subspace" title="Permalink to this headline">Â¶</a></h3>
<p>As described above, application of SSP requires the estimation
of the signal vectors <span class="math notranslate nohighlight">\(b_1 \dotso b_m\)</span> constituting
the noise subspace. The most common approach, also implemented in mne_browse_raw is
to compute a covariance matrix of empty room data, compute its eigenvalue
decomposition, and employ the eigenvectors corresponding to the
highest eigenvalues as basis for the noise subspace. It is also
customary to use a separate set of vectors for magnetometers and
gradiometers in the Vectorview system.</p>
</div>
<div class="section" id="average-reference">
<h3><a class="toc-backref" href="#id6">Average reference</a><a class="headerlink" href="#average-reference" title="Permalink to this headline">Â¶</a></h3>
<p>The EEG average reference is the mean signal over all the sensors. It is typical in EEG analysis to subtract the average reference from all the sensor signals <span class="math notranslate nohighlight">\(b^{1}(t), ..., b^{n}(t)\)</span>. That is:</p>
<div class="math notranslate nohighlight" id="equation-eeg-proj">
<span class="eqno">(5)<a class="headerlink" href="#equation-eeg-proj" title="Permalink to this equation">Â¶</a></span>\[{b}^{j}_{s}(t) = b^{j}(t) - \frac{1}{n}\sum_{k}{b^k(t)}\]</div>
<p>where the noise term <span class="math notranslate nohighlight">\(b_{n}^{j}(t)\)</span> is given by</p>
<div class="math notranslate nohighlight" id="equation-noise-term">
<span class="eqno">(6)<a class="headerlink" href="#equation-noise-term" title="Permalink to this equation">Â¶</a></span>\[b_{n}^{j}(t) = \frac{1}{n}\sum_{k}{b^k(t)}\]</div>
<p>Thus, the projector vector <span class="math notranslate nohighlight">\(P_{\perp}\)</span> will be given by <span class="math notranslate nohighlight">\(P_{\perp}=\frac{1}{n}[1, 1, ..., 1]\)</span></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When applying SSP, the signal of interest can also be sometimes removed. Therefore, itâs always a good idea to check how much the effect of interest is reduced by applying SSP. SSP might remove <em>both</em> the artifact and signal of interest.</p>
</div>
</div>
</div>
<div class="section" id="the-api">
<h2><a class="toc-backref" href="#id7">The API</a><a class="headerlink" href="#the-api" title="Permalink to this headline">Â¶</a></h2>
<p>Once a projector is applied on the data, it is said to be <em class="xref py py-obj">active</em>.</p>
<div class="section" id="the-proj-attribute">
<h3><a class="toc-backref" href="#id8">The proj attribute</a><a class="headerlink" href="#the-proj-attribute" title="Permalink to this headline">Â¶</a></h3>
<p>It is available in all the basic data containers: <code class="docutils literal notranslate"><span class="pre">Raw</span></code>, <code class="docutils literal notranslate"><span class="pre">Epochs</span></code> and <code class="docutils literal notranslate"><span class="pre">Evoked</span></code>. It is <code class="docutils literal notranslate"><span class="pre">True</span></code> if at least one projector is present and all of them are <em class="xref py py-obj">active</em>.</p>
</div>
<div class="section" id="computing-projectors">
<h3><a class="toc-backref" href="#id9">Computing projectors</a><a class="headerlink" href="#computing-projectors" title="Permalink to this headline">Â¶</a></h3>
<p>In MNE-Python SSP vectors can be computed using general
purpose functions <a class="reference internal" href="../../generated/mne.compute_proj_epochs.html#mne.compute_proj_epochs" title="mne.compute_proj_epochs"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.compute_proj_epochs()</span></code></a>,
<a class="reference internal" href="../../generated/mne.compute_proj_evoked.html#mne.compute_proj_evoked" title="mne.compute_proj_evoked"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.compute_proj_evoked()</span></code></a>, and <a class="reference internal" href="../../generated/mne.compute_proj_raw.html#mne.compute_proj_raw" title="mne.compute_proj_raw"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.compute_proj_raw()</span></code></a>.
The general assumption these functions make is that the data passed contains
raw, epochs or averages of the artifact. Typically this involves continues raw
data of empty room recordings or averaged ECG or EOG artifacts.</p>
<p>A second set of highlevel convenience functions is provided to compute projection vector for typical usecases. This includes <a class="reference internal" href="../../generated/mne.preprocessing.compute_proj_ecg.html#mne.preprocessing.compute_proj_ecg" title="mne.preprocessing.compute_proj_ecg"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.preprocessing.compute_proj_ecg()</span></code></a> and <a class="reference internal" href="../../generated/mne.preprocessing.compute_proj_eog.html#mne.preprocessing.compute_proj_eog" title="mne.preprocessing.compute_proj_eog"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.preprocessing.compute_proj_eog()</span></code></a> for computing the ECG and EOG related artifact components, respectively. For computing the EEG reference signal, the function <a class="reference internal" href="../../generated/mne.set_eeg_reference.html#mne.set_eeg_reference" title="mne.set_eeg_reference"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.set_eeg_reference()</span></code></a> can be used.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is best to compute projectors only on channels that will be
used (e.g., excluding bad channels). This ensures that
projection vectors will remain ortho-normalized and that they
properly capture the activity of interest.</p>
</div>
</div>
<div class="section" id="adding-removing-projectors">
<span id="remove-projector"></span><h3><a class="toc-backref" href="#id10">Adding/removing projectors</a><a class="headerlink" href="#adding-removing-projectors" title="Permalink to this headline">Â¶</a></h3>
<p>To explicitly add a <code class="docutils literal notranslate"><span class="pre">proj</span></code>, use <code class="docutils literal notranslate"><span class="pre">add_proj</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">projs</span> <span class="o">=</span> <span class="n">mne</span><span class="o">.</span><span class="n">read_proj</span><span class="p">(</span><span class="s1">&#39;proj_a.fif&#39;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span><span class="o">.</span><span class="n">add_proj</span><span class="p">(</span><span class="n">projs</span><span class="p">)</span>  
</pre></div>
</div>
<p>If projectors are already present in the raw <em class="xref py py-obj">fif</em> file, it will be added to the <code class="docutils literal notranslate"><span class="pre">info</span></code> dictionary automatically. To remove existing projectors, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span><span class="o">.</span><span class="n">add_proj</span><span class="p">([],</span> <span class="n">remove_existing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
</pre></div>
</div>
</div>
<div class="section" id="applying-projectors">
<h3><a class="toc-backref" href="#id11">Applying projectors</a><a class="headerlink" href="#applying-projectors" title="Permalink to this headline">Â¶</a></h3>
<p>Projectors can be applied at any stage of the pipeline. When the <code class="docutils literal notranslate"><span class="pre">raw</span></code> data is read in, the projectors are not applied by default but this flag can be turned on. However, at the <code class="docutils literal notranslate"><span class="pre">epochs</span></code> stage, the projectors are applied by default.</p>
<p>To apply explicitly projs at any stage of the pipeline, use <code class="docutils literal notranslate"><span class="pre">apply_proj</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span><span class="o">.</span><span class="n">apply_proj</span><span class="p">()</span>  
</pre></div>
</div>
<p>The projectors might not be applied if data are not <a class="reference internal" href="../memory.html#memory"><span class="std std-ref">preloaded</span></a>. In this case, itâs the <code class="docutils literal notranslate"><span class="pre">_projector</span></code> attribute that indicates if a projector will be applied when the data is loaded in memory. If the data is already in memory, then the projectors applied to it are the ones marked as <em class="xref py py-obj">active</em>. As soon as youâve applied the projectors, it will stay active in the remaining pipeline.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Once a projection operator is applied, it cannot be reversed.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Projections present in the info are applied during inverse computation whether or not they are <em class="xref py py-obj">active</em>. Therefore, if a certain projection should not be applied, remove it from the info as described in Section <a class="reference internal" href="#remove-projector"><span class="std std-ref">Adding/removing projectors</span></a></p>
</div>
</div>
<div class="section" id="delayed-projectors">
<h3><a class="toc-backref" href="#id12">Delayed projectors</a><a class="headerlink" href="#delayed-projectors" title="Permalink to this headline">Â¶</a></h3>
<p>The suggested pipeline is <code class="docutils literal notranslate"><span class="pre">proj=True</span></code> in epochs (itâs computationally cheaper than for raw). When you use delayed SSP in <code class="docutils literal notranslate"><span class="pre">Epochs</span></code>, projectors are applied when you call <a class="reference internal" href="../../generated/mne.Epochs.html#mne.Epochs.get_data" title="mne.Epochs.get_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.Epochs.get_data()</span></code></a> method. They are not applied to the <code class="docutils literal notranslate"><span class="pre">evoked</span></code> data unless you call <code class="docutils literal notranslate"><span class="pre">apply_proj()</span></code>. The reason is that you want to reject epochs with projectors although itâs not stored in the projector mode.</p>
<div class="topic">
<p class="topic-title first">Examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../auto_tutorials/preprocessing/plot_artifacts_correction_ssp.html#tut-artifact-ssp"><span class="std std-ref">Artifact Correction with SSP</span></a>: SSP sensitivities in sensor space</p></li>
<li><p><a class="reference internal" href="../../auto_examples/forward/plot_forward_sensitivity_maps.html#ex-sensitivity-maps"><span class="std std-ref">Display sensitivity maps for EEG and MEG sensors</span></a>: SSP sensitivities in source space</p></li>
</ul>
</div>
</div>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container institutions">
    <a href="https://www.massgeneral.org/"><img class="institution_lg" src="../../_static/institution_logos/MGH.svg" title="Massachusetts General Hospital" alt="Massachusetts General Hospital"/></a>
    <a href="https://martinos.org/"><img class="institution_lg" src="../../_static/institution_logos/Martinos.png" title="Athinoula A. Martinos Center for Biomedical Imaging" alt="Athinoula A. Martinos Center for Biomedical Imaging"/></a>
    <a href="https://hms.harvard.edu/"><img class="institution_lg" src="../../_static/institution_logos/Harvard.png" title="Harvard Medical School" alt="Harvard Medical School"/></a>
    <a href="https://web.mit.edu/"><img class="institution_sm" src="../../_static/institution_logos/MIT.svg" title="Massachusetts Institute of Technology" alt="Massachusetts Institute of Technology"/></a>
    <a href="https://www.nyu.edu/"><img class="institution_md" src="../../_static/institution_logos/NYU.png" title="New York University" alt="New York University"/></a>
    <a href="http://www.cea.fr/"><img class="institution_md" src="../../_static/institution_logos/CEA.png" title="Commissariat Ã  lÂ´Ã©nergie atomique et aux Ã©nergies alternatives" alt="Commissariat Ã  lÂ´Ã©nergie atomique et aux Ã©nergies alternatives"/></a>
    <a href="https://sci.aalto.fi/"><img class="institution_md" src="../../_static/institution_logos/Aalto.svg" title="Aalto-yliopiston perustieteiden korkeakoulu" alt="Aalto-yliopiston perustieteiden korkeakoulu"/></a>
    <a href="https://www.telecom-paris.fr/"><img class="institution_md" src="../../_static/institution_logos/Telecom_Paris_Tech.png" title="TÃ©lÃ©com ParisTech" alt="TÃ©lÃ©com ParisTech"/></a>
    <a href="https://www.washington.edu/"><img class="institution_sm" src="../../_static/institution_logos/Washington.png" title="University of Washington" alt="University of Washington"/></a>
    <a href="https://icm-institute.org/"><img class="institution_lg" src="../../_static/institution_logos/ICM.jpg" title="Institut du Cerveau et de la Moelle Ã©piniÃ¨re" alt="Institut du Cerveau et de la Moelle Ã©piniÃ¨re"/></a>
    <a href="https://www.bu.edu/"><img class="institution_sm" src="../../_static/institution_logos/BU.svg" title="Boston University" alt="Boston University"/></a>
    <a href="https://www.inserm.fr/"><img class="institution_xs" src="../../_static/institution_logos/Inserm.svg" title="Institut national de la santÃ© et de la recherche mÃ©dicale" alt="Institut national de la santÃ© et de la recherche mÃ©dicale"/></a>
    <a href="https://www.fz-juelich.de/"><img class="institution_sm" src="../../_static/institution_logos/Julich.svg" title="Forschungszentrum JÃ¼lich" alt="Forschungszentrum JÃ¼lich"/></a>
    <a href="https://www.tu-ilmenau.de/"><img class="institution_sm" src="../../_static/institution_logos/Ilmenau.gif" title="Technische UniversitÃ¤t Ilmenau" alt="Technische UniversitÃ¤t Ilmenau"/></a>
    <a href="https://bids.berkeley.edu/"><img class="institution_md" src="../../_static/institution_logos/BIDS.png" title="Berkeley Institute for Data Science" alt="Berkeley Institute for Data Science"/></a>
    <a href="https://www.inria.fr/"><img class="institution_sm" src="../../_static/institution_logos/inria.png" title="Institut national de recherche en informatique et en automatique" alt="Institut national de recherche en informatique et en automatique"/></a>
    <a href="https://www.au.dk/"><img class="institution_sm" src="../../_static/institution_logos/Aarhus.png" title="Aarhus Universitet" alt="Aarhus Universitet"/></a>
    <a href="https://www.uni-graz.at/"><img class="institution_md" src="../../_static/institution_logos/Graz.jpg" title="Karl-Franzens-UniversitÃ¤t Graz" alt="Karl-Franzens-UniversitÃ¤t Graz"/></a>
  </div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>Â·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>Â·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>Â·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>Â·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2019, MNE Developers. Last updated on 2019-07-11.</p>
  </div>
</footer>
  </body>
</html>